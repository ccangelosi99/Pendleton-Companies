/* ============================================
   PENDLETON COMPANIES â€” MAIN STYLESHEET
   Compiled from 7-1 source architecture
   ============================================ */

/* ---- GOOGLE FONTS ---- */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400&family=Montserrat:wght@300;400;500;600;700&family=Lato:wght@300;400;700&display=swap');

/* ============================================
   VENDORS: NORMALIZE
   ============================================ */
*,*::before,*::after{box-sizing:border-box}
html{-webkit-text-size-adjust:100%;tab-size:4}
body{margin:0}
hr{height:0;color:inherit}
abbr[title]{text-decoration:underline dotted}
b,strong{font-weight:bolder}
code,kbd,samp,pre{font-family:ui-monospace,monospace;font-size:1em}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sub{bottom:-0.25em}
sup{top:-0.5em}
table{text-indent:0;border-color:inherit}
button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}
button,select{text-transform:none}
button,[type='button'],[type='reset'],[type='submit']{-webkit-appearance:button}
legend{padding:0}
progress{vertical-align:baseline}
::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}
[type='search']{-webkit-appearance:textfield;outline-offset:-2px}
::-webkit-search-decoration{-webkit-appearance:none}
::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}
summary{display:list-item}

/* ============================================
   ABSTRACTS: VARIABLES / DESIGN TOKENS
   ============================================ */
:root {
  /* ---- BRAND COLORS ---- */
  --clr-primary:       #1B2B3A;
  --clr-primary-light: #2C4A63;
  --clr-accent:        #4bacc6;
  --clr-accent-light:  #7cc8dc;
  --clr-accent-dark:   #3a8fa8;
  --clr-accent-secondary: #ffbb52;

  /* ---- NEUTRAL PALETTE ---- */
  --clr-white:         #FFFFFF;
  --clr-off-white:     #FFFFFF;
  --clr-light-gray:    #E8E6E0;
  --clr-mid-gray:      #9B9590;
  --clr-dark-gray:     #4A4540;
  --clr-black:         #0D1117;

  /* ---- SEMANTIC (light mode defaults) ---- */
  --clr-bg:            #FFFFFF;
  --clr-bg-alt:        var(--clr-white);
  --clr-surface:       var(--clr-white);
  --clr-surface-alt:   #F0EDE8;
  --clr-text:          var(--clr-primary);
  --clr-text-muted:    var(--clr-mid-gray);
  --clr-text-inv:      var(--clr-white);
  --clr-border:        var(--clr-light-gray);
  --clr-shadow:        rgba(27, 43, 58, 0.12);

  /* ---- TYPOGRAPHY ---- */
  --font-display:  'Playfair Display', Georgia, serif;
  --font-heading:  'Cormorant Garamond', Georgia, serif;
  --font-body:     'Lato', 'Helvetica Neue', sans-serif;
  --font-ui:       'Montserrat', 'Helvetica Neue', sans-serif;
  --font-mono:     'Courier Prime', Courier, monospace;

  --fs-xs:   0.75rem;
  --fs-sm:   0.875rem;
  --fs-base: 1rem;
  --fs-md:   1.125rem;
  --fs-lg:   1.25rem;
  --fs-xl:   1.5rem;
  --fs-2xl:  2rem;
  --fs-3xl:  2.5rem;
  --fs-4xl:  3rem;
  --fs-5xl:  4rem;
  --fs-6xl:  5rem;

  --fw-light:   300;
  --fw-regular: 400;
  --fw-medium:  500;
  --fw-semi:    600;
  --fw-bold:    700;
  --fw-black:   900;

  --lh-tight:   1.1;
  --lh-snug:    1.3;
  --lh-normal:  1.6;
  --lh-relaxed: 1.8;

  --ls-tight:  -0.02em;
  --ls-normal:  0;
  --ls-wide:    0.05em;
  --ls-wider:   0.1em;
  --ls-widest:  0.2em;

  /* ---- SPACING ---- */
  --sp-1:   0.25rem;
  --sp-2:   0.5rem;
  --sp-3:   0.75rem;
  --sp-4:   1rem;
  --sp-5:   1.25rem;
  --sp-6:   1.5rem;
  --sp-8:   2rem;
  --sp-10:  2.5rem;
  --sp-12:  3rem;
  --sp-16:  4rem;
  --sp-20:  5rem;
  --sp-24:  6rem;
  --sp-32:  8rem;
  --sp-40: 10rem;

  /* ---- LAYOUT ---- */
  --container-sm:  640px;
  --container-md:  768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
  --container-2xl:1440px;

  --navbar-h:  80px;
  --subnav-h:  52px;

  /* ---- BORDERS & RADIUS ---- */
  --radius-sm:   4px;
  --radius-md:   8px;
  --radius-lg:  16px;
  --radius-xl:  24px;
  --radius-full: 9999px;

  /* ---- SHADOWS ---- */
  --shadow-sm:  0 1px 3px var(--clr-shadow);
  --shadow-md:  0 4px 16px var(--clr-shadow);
  --shadow-lg:  0 8px 32px var(--clr-shadow);
  --shadow-xl:  0 16px 64px var(--clr-shadow);

  /* ---- TRANSITIONS ---- */
  --ease-out:    cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-in:     cubic-bezier(0.55, 0.055, 0.675, 0.19);
  --ease-inout:  cubic-bezier(0.645, 0.045, 0.355, 1.0);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1.0);

  --dur-fast:   150ms;
  --dur-base:   250ms;
  --dur-slow:   400ms;
  --dur-slower: 700ms;

  /* ---- Z-INDEX ---- */
  --z-base:    0;
  --z-raised:  10;
  --z-overlay: 100;
  --z-subnav:  200;
  --z-navbar:  300;
  --z-modal:   400;
  --z-toast:   500;
}

/* ============================================
   THEMES: LIGHT
   ============================================ */
[data-theme="light"],
:root {
  --clr-bg:          #FFFFFF;
  --clr-bg-alt:      #FFFFFF;
  --clr-surface:     #FFFFFF;
  --clr-surface-alt: #F0EDE8;
  --clr-text:        #1B2B3A;
  --clr-text-muted:  #9B9590;
  --clr-text-inv:    #FFFFFF;
  --clr-border:      #E8E6E0;
  --clr-shadow:      rgba(27, 43, 58, 0.12);
}

[data-theme="light"] .navbar:not(.nav-active):not(:hover):not(:focus-within) .navbar__company-name {
  color: var(--clr-accent) !important;
}

/* ============================================
   THEMES: DARK
   ============================================ */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --clr-bg:          #0D1117;
    --clr-bg-alt:      #131920;
    --clr-surface:     #1A222C;
    --clr-surface-alt: #1F2A38;
    --clr-text:        #E8E4DC;
    --clr-text-muted:  #6B7380;
    --clr-text-inv:    #0D1117;
    --clr-border:      #243040;
    --clr-shadow:      rgba(0, 0, 0, 0.4);
  }
}

[data-theme="dark"] {
  --clr-bg:          #0D1117;
  --clr-bg-alt:      #131920;
  --clr-surface:     #1A222C;
  --clr-surface-alt: #1F2A38;
  --clr-text:        #E8E4DC;
  --clr-text-muted:  #6B7380;
  --clr-text-inv:    #0D1117;
  --clr-border:      #243040;
  --clr-shadow:      rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .card { background: var(--clr-surface); border-color: var(--clr-border); }
[data-theme="dark"] .filter-group select,
[data-theme="dark"] .filter-group input { background: var(--clr-surface); border-color: var(--clr-border); }
[data-theme="dark"] .subnav { background: rgba(10, 15, 20, 0.8); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
[data-theme="dark"] .hero-quote { background: #0D1117; }
[data-theme="dark"] .section { background: #0D1117; }
[data-theme="dark"] .benefits-section { background: #0D1117; }
[data-theme="dark"] .leadership-section { background: #0D1117; }
[data-theme="dark"] .advantage-section { background: #0D1117; }
[data-theme="dark"] .home-services { background: #0D1117; }
[data-theme="dark"] .positions-section { background: #0D1117; }
[data-theme="dark"] .portfolio-hero { background: #131920; }
[data-theme="dark"] .careers-hero { background: #0D1117; }
[data-theme="dark"] .footer { background: #0a0e13; }
[data-theme="dark"] .footer__accent-line { background: linear-gradient(to right, var(--clr-accent), var(--clr-accent-light), var(--clr-accent)); }
[data-theme="dark"] h1, [data-theme="dark"] h2, [data-theme="dark"] h3, [data-theme="dark"] h4, [data-theme="dark"] h5, [data-theme="dark"] h6 { color: #E8E4DC; }
[data-theme="dark"] .benefit-card { background: var(--clr-surface); border-color: var(--clr-border); }
[data-theme="dark"] .position-card { background: var(--clr-surface); border-color: var(--clr-border); }
[data-theme="dark"] .advantage__detail { background: var(--clr-surface); border-color: var(--clr-border); }
[data-theme="dark"] .timeline__detail { background: var(--clr-surface); border-color: var(--clr-border); }
[data-theme="dark"] .filters { background: var(--clr-surface); border-color: var(--clr-border); }
[data-theme="dark"] .modal { background: var(--clr-surface); }
[data-theme="dark"] .tabs__tab { color: var(--clr-text-muted); }
[data-theme="dark"] .tabs__tab:hover { color: var(--clr-text); }
[data-theme="dark"] .btn--outline { color: var(--clr-accent); border-color: var(--clr-accent); }
[data-theme="dark"] .btn--primary { background: var(--clr-accent); color: #0D1117; }
[data-theme="dark"] #lang-switcher option { background: var(--clr-surface); color: var(--clr-text); }
[data-theme="dark"] .home-stats { background: #131920; }

/* ============================================
   BASE: RESET
   ============================================ */
html {
  scroll-behavior: smooth;
  font-size: 16px;
}

body {
  font-family: var(--font-body);
  font-size: var(--fs-base);
  font-weight: var(--fw-regular);
  line-height: var(--lh-normal);
  color: var(--clr-text);
  background-color: var(--clr-bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  transition: background-color var(--dur-slow) var(--ease-out),
              color var(--dur-slow) var(--ease-out);
}

img, video, svg { display: block; max-width: 100%; }
a { color: inherit; text-decoration: none; }
ul, ol { list-style: none; margin: 0; padding: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 0;
  font-family: var(--font-heading);
  font-weight: var(--fw-semi);
  line-height: var(--lh-tight);
  letter-spacing: var(--ls-tight);
  color: var(--clr-text);
}

p { margin: 0; }

button { cursor: pointer; border: none; background: none; font-family: inherit; }
input, select, textarea { font-family: inherit; color: inherit; }

:focus-visible { outline: 2px solid var(--clr-accent); outline-offset: 3px; border-radius: var(--radius-sm); }
::selection { background: var(--clr-accent); color: var(--clr-primary); }

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--clr-bg); }
::-webkit-scrollbar-thumb { background: var(--clr-accent); border-radius: var(--radius-full); }
::-webkit-scrollbar-thumb:hover { background: var(--clr-accent-dark); }

/* ============================================
   BASE: TYPOGRAPHY UTILITIES
   ============================================ */
.h-display {
  font-family: var(--font-display);
  font-size: clamp(var(--fs-4xl), 7vw, var(--fs-6xl));
  font-weight: var(--fw-bold);
  letter-spacing: var(--ls-tight);
  line-height: var(--lh-tight);
}

.h-hero {
  font-family: var(--font-display);
  font-size: clamp(var(--fs-3xl), 6vw, var(--fs-5xl));
  font-weight: var(--fw-bold);
  letter-spacing: var(--ls-tight);
  line-height: var(--lh-tight);
}

.h-section {
  font-family: var(--font-heading);
  font-size: clamp(var(--fs-2xl), 4vw, var(--fs-4xl));
  font-weight: var(--fw-semi);
  letter-spacing: var(--ls-tight);
}

.h-sub {
  font-family: var(--font-heading);
  font-size: clamp(var(--fs-xl), 2.5vw, var(--fs-2xl));
  font-weight: var(--fw-semi);
}

.label {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  font-weight: var(--fw-semi);
  letter-spacing: var(--ls-widest);
  text-transform: uppercase;
  color: var(--clr-accent);
}

.body-lg { font-size: var(--fs-md); line-height: var(--lh-relaxed); }
.body-sm { font-size: var(--fs-sm); line-height: var(--lh-normal); }

blockquote {
  font-family: var(--font-display);
  font-style: italic;
  font-size: clamp(var(--fs-xl), 3vw, var(--fs-3xl));
  line-height: var(--lh-snug);
  color: var(--clr-text);
}

/* ============================================
   ABSTRACTS: MIXINS / UTILITIES
   ============================================ */
.flex        { display: flex; }
.flex-col    { display: flex; flex-direction: column; }
.flex-center { display: flex; align-items: center; justify-content: center; }
.items-center{ align-items: center; }
.justify-between { justify-content: space-between; }
.gap-4  { gap: var(--sp-4); }
.gap-8  { gap: var(--sp-8); }
.gap-12 { gap: var(--sp-12); }

.sr-only {
  position: absolute; width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0,0,0,0); white-space: nowrap; border-width: 0;
}

.container {
  width: 100%;
  max-width: var(--container-xl);
  margin-inline: auto;
  padding-inline: var(--sp-6);
}

@media (min-width: 1440px) {
  .container { max-width: var(--container-2xl); padding-inline: var(--sp-12); }
}

@media (max-width: 768px) {
  .container { padding-inline: var(--sp-4); }
}

.section { padding-block: var(--sp-24); }

@media (max-width: 768px) {
  .section { padding-block: var(--sp-16); }
}

.text-accent  { color: var(--clr-accent); }
.text-muted   { color: var(--clr-text-muted); }
.text-center  { text-align: center; }
.text-upper   { text-transform: uppercase; letter-spacing: var(--ls-wider); }

.overlay-dark { position: relative; }
.overlay-dark::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(to bottom, rgba(13,17,23,0.35) 0%, rgba(13,17,23,0.65) 100%);
  pointer-events: none;
}

.divider {
  display: block;
  width: 60px;
  height: 2px;
  background: var(--clr-accent-secondary);
  margin-block: var(--sp-6);
}

.divider--center { margin-inline: auto; }

.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity var(--dur-slower) var(--ease-out),
              transform var(--dur-slower) var(--ease-out);
}
.reveal.visible { opacity: 1; transform: translateY(0); }

.reveal-left {
  opacity: 0;
  transform: translateX(-24px);
  transition: opacity var(--dur-slower) var(--ease-out),
              transform var(--dur-slower) var(--ease-out);
}
.reveal-left.visible { opacity: 1; transform: translateX(0); }

.reveal-right {
  opacity: 0;
  transform: translateX(24px);
  transition: opacity var(--dur-slower) var(--ease-out),
              transform var(--dur-slower) var(--ease-out);
}
.reveal-right.visible { opacity: 1; transform: translateX(0); }

.delay-1 { transition-delay: 0.1s; }
.delay-2 { transition-delay: 0.2s; }
.delay-3 { transition-delay: 0.3s; }
.delay-4 { transition-delay: 0.4s; }

/* ============================================
   ANIMATIONS
   ============================================ */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(24px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-16px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-24px); }
  to   { opacity: 1; transform: translateX(0); }
}

@keyframes pulse {
  0%, 100% { transform: translateY(0); opacity: 0.6; }
  50%       { transform: translateY(8px); opacity: 1; }
}

@keyframes lineExpand {
  from { width: 0; }
  to   { width: 60px; }
}

@keyframes shimmer {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@keyframes missionImgSlide {
  from { opacity: 0; transform: translateX(-100%); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes missionTextSlide {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ============================================
   LAYOUT: GRID SYSTEM
   ============================================ */
.grid { display: grid; gap: var(--sp-8); }
.grid--2 { grid-template-columns: repeat(2, 1fr); }
.grid--3 { grid-template-columns: repeat(3, 1fr); }
.grid--4 { grid-template-columns: repeat(4, 1fr); }
.grid--auto    { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
.grid--auto-lg { grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); }
.grid--60-40   { grid-template-columns: 3fr 2fr; }
.grid--40-60   { grid-template-columns: 2fr 3fr; }

@media (max-width: 1024px) {
  .grid--4 { grid-template-columns: repeat(2, 1fr); }
  .grid--3 { grid-template-columns: repeat(2, 1fr); }
  .grid--60-40, .grid--40-60 { grid-template-columns: 1fr; }
}

@media (max-width: 640px) {
  .grid--2, .grid--3, .grid--4 { grid-template-columns: 1fr; }
}

/* ============================================
   LAYOUT: NAVBAR
   ============================================ */
.navbar {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: var(--z-navbar);
  height: var(--navbar-h);
  display: flex;
  align-items: center;
  padding-inline: var(--sp-8);
  background: transparent;
  border-bottom: 1.5px solid var(--clr-accent);
  transition: background-color var(--dur-slow) var(--ease-out),
              backdrop-filter var(--dur-slow) var(--ease-out),
              box-shadow var(--dur-slow) var(--ease-out);
}

.navbar.nav-active,
.navbar:hover,
.navbar:focus-within {
  background: rgba(255, 255, 255, 0.97);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: var(--shadow-md);
}

[data-theme="dark"] .navbar.nav-active,
[data-theme="dark"] .navbar:hover,
[data-theme="dark"] .navbar:focus-within {
  background: rgba(13, 17, 23, 0.97);
}

.navbar__brand {
  display: flex; align-items: center; gap: var(--sp-3);
  text-decoration: none; flex-shrink: 0;
}

.navbar__logo {
  width: 44px; height: 44px;
  transition: transform var(--dur-base) var(--ease-spring);
}

.navbar__brand:hover .navbar__logo { transform: rotate(-5deg) scale(1.05); }

.navbar__company-name {
  font-family: var(--font-ui);
  font-size: clamp(1.1rem, 0.96rem + 0.36vw, 1.34rem);
  font-weight: var(--fw-bold);
  letter-spacing: 0.06em;
  text-transform: uppercase;
  display: inline-flex;
  align-items: baseline;
  gap: 0.34rem;
  white-space: nowrap;
}

.navbar__company-name-pendleton {
  color: var(--clr-primary);
  line-height: 1;
}

.navbar__company-name-companies {
  line-height: 1;
  color: var(--clr-accent);
  background: linear-gradient(90deg, var(--clr-accent-light) 0%, var(--clr-accent) 45%, var(--clr-accent-dark) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.navbar__nav {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: var(--sp-2);
}

.navbar__link {
  font-family: var(--font-ui);
  font-size: var(--fs-sm);
  font-weight: var(--fw-medium);
  letter-spacing: var(--ls-wide);
  text-transform: uppercase;
  padding: var(--sp-3) var(--sp-4);
  border-radius: var(--radius-sm);
  color: rgba(255,255,255,0.9);
  transition: color var(--dur-base) var(--ease-out),
              background-color var(--dur-base) var(--ease-out);
  position: relative;
}

.navbar__link::after {
  content: '';
  position: absolute;
  bottom: 4px; left: 50%;
  transform: translateX(-50%);
  width: 0; height: 2px;
  background: var(--clr-accent-secondary);
  transition: width var(--dur-base) var(--ease-out);
  border-radius: var(--radius-full);
}

.navbar.nav-active .navbar__link,
.navbar:hover .navbar__link,
.navbar:focus-within .navbar__link { color: #0f253f; }

[data-theme="dark"] .navbar.nav-active .navbar__link,
[data-theme="dark"] .navbar:hover .navbar__link { color: var(--clr-white); }

.navbar__link:hover::after,
.navbar__link.active::after { width: 20px; }

.navbar__link:hover { background: rgba(75, 172, 198, 0.1); color: var(--clr-accent-dark); }
.navbar__link.active { color: var(--clr-accent-dark); font-weight: var(--fw-bold); text-decoration: underline; text-underline-offset: 4px; text-decoration-color: #ffbb52; }

body.has-subnav .navbar {
  background: rgba(255, 255, 255, 0.97);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 4px 16px rgba(27, 43, 58, 0.12);
}

body.has-subnav .navbar .navbar__link {
  color: #0f253f;
}

body.has-subnav .navbar .navbar__company-name {
  color: inherit;
}

body.has-subnav .navbar .theme-toggle {
  color: #0f253f;
}

body.has-subnav .navbar #lang-switcher {
  color: #0f253f;
  border-color: rgba(15, 37, 63, 0.3);
}

body.has-subnav .navbar .navbar__hamburger span {
  background: #0f253f;
}

[data-theme="dark"] body.has-subnav .navbar,
body.has-subnav[data-theme="dark"] .navbar {
  background: rgba(13, 17, 23, 0.97);
}

[data-theme="dark"] body.has-subnav .navbar .navbar__link,
body.has-subnav[data-theme="dark"] .navbar .navbar__link {
  color: #E8E4DC;
}

[data-theme="dark"] body.has-subnav .navbar .navbar__company-name,
body.has-subnav[data-theme="dark"] .navbar .navbar__company-name {
  color: inherit;
}

[data-theme="dark"] body.has-subnav .navbar .theme-toggle,
body.has-subnav[data-theme="dark"] .navbar .theme-toggle {
  color: #E8E4DC;
}

@media (max-width: 560px) {
  .navbar__company-name {
    font-size: clamp(0.95rem, 3.4vw, 1.08rem);
    gap: 0.24rem;
    letter-spacing: 0.04em;
  }
}

/* Theme toggle */
.theme-toggle {
  width: 36px; height: 36px;
  border-radius: var(--radius-full);
  display: flex; align-items: center; justify-content: center;
  color: rgba(255,255,255,0.7);
  transition: all var(--dur-base) var(--ease-out);
  margin-left: var(--sp-2);
}

.navbar.nav-active .theme-toggle,
.navbar:hover .theme-toggle { color: #0f253f; }

[data-theme="dark"] .navbar.nav-active .theme-toggle,
[data-theme="dark"] .navbar:hover .theme-toggle { color: var(--clr-white); }

.theme-toggle:hover { background: rgba(75, 172, 198, 0.15); color: var(--clr-accent) !important; }

.theme-toggle .icon-sun  { display: none; }
.theme-toggle .icon-moon { display: block; }

[data-theme="dark"] .theme-toggle .icon-sun  { display: block; }
[data-theme="dark"] .theme-toggle .icon-moon { display: none; }

/* Lang select */
#lang-switcher {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  background: transparent;
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: var(--radius-sm);
  color: rgba(255,255,255,0.8);
  padding: 4px 8px;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: var(--ls-wider);
  transition: all var(--dur-base) var(--ease-out);
}

.navbar.nav-active #lang-switcher,
.navbar:hover #lang-switcher {
  color: var(--clr-text-muted);
  border-color: var(--clr-border);
}

#lang-switcher option { background: var(--clr-surface); color: var(--clr-text); }

/* Hamburger */
.navbar__hamburger {
  display: none; flex-direction: column; gap: 5px;
  padding: var(--sp-2); margin-left: auto; cursor: pointer;
}

.navbar__hamburger span {
  display: block; width: 24px; height: 2px;
  background: var(--clr-white); border-radius: var(--radius-full);
  transition: transform var(--dur-base) var(--ease-out),
              opacity var(--dur-base) var(--ease-out),
              background-color var(--dur-base) var(--ease-out);
}

.navbar.nav-active .navbar__hamburger span,
.navbar:hover .navbar__hamburger span { background: var(--clr-primary); }

[data-theme="dark"] .navbar.nav-active .navbar__hamburger span { background: var(--clr-white); }

.navbar__hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
.navbar__hamburger.open span:nth-child(2) { opacity: 0; }
.navbar__hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

@media (max-width: 768px) {
  .navbar { padding-inline: var(--sp-4); }
  .navbar__hamburger { display: flex; }

  .navbar__nav {
    position: fixed;
    top: var(--navbar-h); left: 0; right: 0; bottom: 0;
    flex-direction: column;
    justify-content: center; align-items: center;
    gap: var(--sp-4);
    background: var(--clr-primary);
    transform: translateX(100%);
    transition: transform var(--dur-slow) var(--ease-out);
    z-index: var(--z-navbar);
  }

  .navbar__nav.mobile-open { transform: translateX(0); }

  .navbar__link {
    font-size: var(--fs-xl);
    color: var(--clr-white) !important;
    padding: var(--sp-4);
  }

  #lang-switcher { color: rgba(255,255,255,0.8) !important; border-color: rgba(255,255,255,0.3) !important; }
  .theme-toggle { color: rgba(255,255,255,0.7) !important; }
}

/* ============================================
   LAYOUT: SUBNAV
   ============================================ */
.subnav {
  position: fixed;
  top: var(--navbar-h); left: 0; right: 0;
  z-index: var(--z-subnav);
  height: var(--subnav-h);
  display: flex; align-items: center; justify-content: center;
  background: rgba(27, 43, 58, 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(75, 172, 198, 0.3);
  animation: fadeInDown var(--dur-slow) var(--ease-out) both;
}

.subnav__list { display: flex; align-items: center; gap: var(--sp-2); }

.subnav__link {
  font-family: var(--font-ui);
  font-size: var(--fs-xs); font-weight: var(--fw-medium);
  letter-spacing: var(--ls-widest); text-transform: uppercase;
  color: rgba(255,255,255,0.7);
  padding: var(--sp-2) var(--sp-5); border-radius: var(--radius-sm);
  transition: color var(--dur-base) var(--ease-out),
              background-color var(--dur-base) var(--ease-out);
  position: relative;
}

.subnav__link::before {
  content: '';
  position: absolute; bottom: -1px; left: 50%;
  transform: translateX(-50%);
  width: 0; height: 2px; background: var(--clr-accent-secondary);
  border-radius: var(--radius-full);
  transition: width var(--dur-base) var(--ease-out);
}

.subnav__link:hover { color: var(--clr-white); background: rgba(255,255,255,0.07); }
.subnav__link.active { color: var(--clr-accent); font-weight: var(--fw-bold); text-decoration: underline; text-underline-offset: 4px; text-decoration-color: #ffbb52; }
.subnav__link.active::before, .subnav__link:hover::before { width: 100%; }

.subnav__sep { width: 3px; height: 3px; border-radius: 50%; background: rgba(255,255,255,0.25); }

body.has-subnav  .page-content { padding-top: calc(var(--navbar-h) + var(--subnav-h)); }
body:not(.has-subnav) .page-content { padding-top: var(--navbar-h); }

@media (max-width: 768px) {
  .subnav { overflow-x: auto; justify-content: flex-start; padding-inline: var(--sp-4); scrollbar-width: none; }
  .subnav::-webkit-scrollbar { display: none; }
  .subnav__list { gap: 0; flex-shrink: 0; }
  .subnav__link { white-space: nowrap; padding: var(--sp-2) var(--sp-4); }
}

/* ============================================
   LAYOUT: FOOTER
   ============================================ */
.footer {
  background: var(--clr-primary);
  color: rgba(255,255,255,0.7);
  padding-top: var(--sp-16);
  padding-bottom: var(--sp-8);
}

.footer__accent-line {
  height: 3px;
  background: linear-gradient(to right, var(--clr-accent), var(--clr-accent-light), var(--clr-accent));
  width: 100%;
}

.footer__grid {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: var(--sp-12);
  padding-bottom: var(--sp-12);
  border-bottom: 1px solid rgba(255,255,255,0.12);
  margin-top: var(--sp-12);
}

.footer__brand .navbar__company-name {
  color: var(--clr-white);
  display: block;
  margin-block: var(--sp-4) var(--sp-3);
}

.footer__tagline {
  font-style: italic;
  font-family: var(--font-heading);
  font-size: var(--fs-sm);
  color: rgba(255,255,255,0.5);
  line-height: var(--lh-relaxed);
  max-width: 280px;
}

.footer__col h4 {
  font-family: var(--font-ui);
  font-size: var(--fs-xs); font-weight: var(--fw-semi);
  letter-spacing: var(--ls-widest); text-transform: uppercase;
  color: var(--clr-accent);
  margin-bottom: var(--sp-5);
}

.footer__col ul { display: flex; flex-direction: column; gap: var(--sp-3); }

.footer__col a {
  font-size: var(--fs-sm);
  color: rgba(255,255,255,0.6);
  transition: color var(--dur-base) var(--ease-out);
}

.footer__col a:hover { color: var(--clr-accent); }

.footer__bottom {
  display: flex; align-items: center; justify-content: space-between;
  padding-top: var(--sp-8); flex-wrap: wrap; gap: var(--sp-4);
}

.footer__copyright { font-size: var(--fs-xs); color: rgba(255,255,255,0.4); }

.footer__links { display: flex; gap: var(--sp-6); }
.footer__links a { font-size: var(--fs-xs); color: rgba(255,255,255,0.4); transition: color var(--dur-base) var(--ease-out); }
.footer__links a:hover { color: var(--clr-accent); }

@media (max-width: 1024px) {
  .footer__grid { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 600px) {
  .footer__grid { grid-template-columns: 1fr; gap: var(--sp-8); }
  .footer__bottom { flex-direction: column; align-items: flex-start; }
}

/* ============================================
   COMPONENTS: BUTTONS
   ============================================ */
.btn {
  display: inline-flex; align-items: center; gap: var(--sp-2);
  font-family: var(--font-ui);
  font-size: var(--fs-sm); font-weight: var(--fw-medium);
  letter-spacing: var(--ls-wider); text-transform: uppercase;
  padding: var(--sp-4) var(--sp-8);
  border-radius: var(--radius-sm);
  transition: all var(--dur-base) var(--ease-out);
  cursor: pointer; white-space: nowrap;
  text-decoration: none; border: 2px solid transparent;
}

.btn--primary { background: var(--clr-accent); color: var(--clr-primary); border-color: var(--clr-accent); }
.btn--primary:hover {
  background: var(--clr-accent-dark); border-color: var(--clr-accent-dark);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(75, 172, 198, 0.35);
}

.btn--outline { background: transparent; color: var(--clr-accent); border-color: var(--clr-accent); }
.btn--outline:hover { background: var(--clr-accent); color: var(--clr-primary); transform: translateY(-2px); }

.btn--white { background: transparent; color: var(--clr-white); border-color: var(--clr-white); }
.btn--white:hover { background: var(--clr-white); color: var(--clr-primary); }

.btn--dark { background: var(--clr-primary); color: var(--clr-white); border-color: var(--clr-primary); }
.btn--dark:hover { background: var(--clr-primary-light); border-color: var(--clr-primary-light); transform: translateY(-2px); }

.btn--ghost { background: transparent; color: var(--clr-text); border-color: transparent; padding-inline: var(--sp-4); }
.btn--ghost:hover { background: rgba(75, 172, 198, 0.1); color: var(--clr-accent); }

.btn--sm { font-size: var(--fs-xs); padding: var(--sp-2) var(--sp-5); }
.btn--lg { font-size: var(--fs-base); padding: var(--sp-5) var(--sp-10); }
.btn--icon { padding: var(--sp-3); border-radius: var(--radius-md); aspect-ratio: 1; }
.btn--pill { border-radius: var(--radius-full); }

.btn__arrow { display: inline-block; transition: transform var(--dur-base) var(--ease-out); }
.btn:hover .btn__arrow { transform: translateX(4px); }

.hero-video__actions .btn { min-height: 56px; justify-content: center; }

/* ============================================
   COMPONENTS: CARDS
   ============================================ */
.card {
  background: var(--clr-surface);
  border-radius: var(--radius-lg); overflow: hidden;
  border: 1px solid var(--clr-border);
  transition: transform var(--dur-base) var(--ease-out),
              box-shadow var(--dur-base) var(--ease-out),
              border-color var(--dur-base) var(--ease-out);
}

.card:hover { transform: translateY(-6px); box-shadow: var(--shadow-lg); border-color: var(--clr-accent); }
.card__image { width: 100%; aspect-ratio: 16/9; object-fit: cover; }
.card__body { padding: var(--sp-6); }

.card__label {
  font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-semi);
  letter-spacing: var(--ls-widest); text-transform: uppercase;
  color: var(--clr-accent); margin-bottom: var(--sp-2);
}

.card__title { font-family: var(--font-heading); font-size: var(--fs-xl); font-weight: var(--fw-semi); color: var(--clr-text); margin-bottom: var(--sp-3); }
.card__text { font-size: var(--fs-sm); color: var(--clr-text-muted); line-height: var(--lh-relaxed); }
.card__footer { padding: var(--sp-4) var(--sp-6); border-top: 1px solid var(--clr-border); display: flex; align-items: center; justify-content: space-between; }

.card--property .card__image { aspect-ratio: 4/3; }
.card--property .card__meta { display: flex; flex-wrap: wrap; gap: var(--sp-2); margin-top: var(--sp-4); }
.card--property .card__badge {
  font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-medium);
  letter-spacing: var(--ls-wide); text-transform: uppercase;
  padding: var(--sp-1) var(--sp-3); border-radius: var(--radius-full);
  background: rgba(75, 172, 198, 0.12); color: var(--clr-accent-dark);
  border: 1px solid rgba(75, 172, 198, 0.25);
}

.card--stat {
  padding: var(--sp-8); text-align: center;
  background: var(--clr-primary); border-color: rgba(75, 172, 198, 0.2); border-radius: var(--radius-md);
}

.card--stat .card__number {
  font-family: var(--font-display); font-size: var(--fs-4xl); font-weight: var(--fw-bold);
  color: var(--clr-accent); line-height: 1; margin-bottom: var(--sp-2);
}

.card--stat .card__label { color: rgba(255,255,255,0.6); }

/* ============================================
   COMPONENTS: FILTERS
   ============================================ */
.filters {
  background: var(--clr-surface); border-radius: var(--radius-lg);
  padding: var(--sp-6); box-shadow: var(--shadow-md); border: 1px solid var(--clr-border);
}

.filters__form { display: flex; gap: var(--sp-4); align-items: flex-end; flex-wrap: wrap; }

.filter-group { display: flex; flex-direction: column; gap: var(--sp-2); flex: 1; min-width: 180px; }

.filter-group label {
  font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-semi);
  letter-spacing: var(--ls-wider); text-transform: uppercase; color: var(--clr-text-muted);
}

.filter-group select,
.filter-group input {
  padding: var(--sp-3) var(--sp-8) var(--sp-3) var(--sp-4);
  border: 1px solid var(--clr-border); border-radius: var(--radius-md);
  background: var(--clr-bg); color: var(--clr-text); font-size: var(--fs-sm);
  transition: border-color var(--dur-fast) var(--ease-out), box-shadow var(--dur-fast) var(--ease-out);
  appearance: none; -webkit-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%239B9590' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right var(--sp-3) center; background-size: 16px;
}

.filter-group select:focus,
.filter-group input:focus {
  outline: none; border-color: var(--clr-accent);
  box-shadow: 0 0 0 3px rgba(75, 172, 198, 0.15);
}

.filter-tags { display: flex; flex-wrap: wrap; gap: var(--sp-2); margin-top: var(--sp-4); }

.filter-tag {
  display: inline-flex; align-items: center; gap: var(--sp-2);
  font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-medium);
  letter-spacing: var(--ls-wide); padding: var(--sp-2) var(--sp-3); border-radius: var(--radius-full);
  background: rgba(75, 172, 198, 0.12); color: var(--clr-accent-dark);
  border: 1px solid rgba(75, 172, 198, 0.3);
}

/* ============================================
   COMPONENTS: MODAL
   ============================================ */
.modal-backdrop {
  position: fixed; inset: 0; z-index: var(--z-modal);
  background: rgba(13, 17, 23, 0.7); backdrop-filter: blur(6px);
  display: flex; align-items: center; justify-content: center; padding: var(--sp-6);
  opacity: 0; pointer-events: none;
  transition: opacity var(--dur-slow) var(--ease-out);
}

.modal-backdrop.open { opacity: 1; pointer-events: all; }

.modal {
  background: var(--clr-surface); border-radius: var(--radius-xl);
  max-width: 680px; width: 100%; max-height: 90vh; overflow-y: auto;
  transform: scale(0.92) translateY(20px);
  transition: transform var(--dur-slow) var(--ease-spring), opacity var(--dur-slow) var(--ease-out);
  opacity: 0; box-shadow: var(--shadow-xl);
}

.modal-backdrop.open .modal { transform: scale(1) translateY(0); opacity: 1; }

.modal__header {
  display: flex; align-items: flex-start; justify-content: space-between;
  padding: var(--sp-8); border-bottom: 1px solid var(--clr-border); gap: var(--sp-4);
}

.modal__title { font-family: var(--font-heading); font-size: var(--fs-2xl); font-weight: var(--fw-semi); color: var(--clr-text); }

.modal__close {
  width: 36px; height: 36px; border-radius: var(--radius-md);
  display: flex; align-items: center; justify-content: center;
  color: var(--clr-text-muted); flex-shrink: 0;
  transition: background var(--dur-fast) var(--ease-out), color var(--dur-fast) var(--ease-out);
}

.modal__close:hover { background: rgba(75, 172, 198, 0.1); color: var(--clr-accent); }
.modal__body { padding: var(--sp-8); }
.modal__footer { padding: var(--sp-6) var(--sp-8); border-top: 1px solid var(--clr-border); display: flex; justify-content: flex-end; gap: var(--sp-3); }

.modal--contact { max-width: 760px; }

.contact-form__subtitle {
  margin-top: var(--sp-2);
  color: var(--clr-text-muted);
  line-height: var(--lh-relaxed);
}

.contact-form {
  display: grid;
  gap: var(--sp-4);
}

.contact-form__grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--sp-4);
}

.contact-form__field {
  display: grid;
  gap: var(--sp-2);
}

.contact-form__field label {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  letter-spacing: var(--ls-wide);
  text-transform: uppercase;
  color: var(--clr-text-muted);
}

.contact-form__field input,
.contact-form__field textarea {
  width: 100%;
  padding: var(--sp-3) var(--sp-4);
  border: 1px solid var(--clr-border);
  border-radius: var(--radius-md);
  background: var(--clr-bg);
  color: var(--clr-text);
}

.contact-form__field input:focus,
.contact-form__field textarea:focus {
  outline: none;
  border-color: var(--clr-accent);
  box-shadow: 0 0 0 3px rgba(75, 172, 198, 0.15);
}

.contact-form__field textarea {
  resize: vertical;
  min-height: 140px;
}

.contact-form__status {
  border-radius: var(--radius-md);
  padding: var(--sp-3) var(--sp-4);
  font-size: var(--fs-sm);
  border: 1px solid transparent;
  display: none;
}

.contact-form__status--error,
.contact-form__status--success {
  display: block;
}

.contact-form__status--error {
  background: rgba(190, 78, 78, 0.14);
  border-color: rgba(190, 78, 78, 0.45);
  color: #7f2424;
}

.contact-form__status--success {
  background: rgba(50, 157, 104, 0.14);
  border-color: rgba(50, 157, 104, 0.45);
  color: #1f6a48;
}

.contact-form__footer {
  margin: 0;
  padding: var(--sp-2) 0 0;
  border-top: 0;
}

@media (max-width: 768px) {
  .contact-form__grid {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   COMPONENTS: TABS
   ============================================ */
.tabs { --tab-border: 1px solid var(--clr-border); }

.tabs__list {
  display: flex; gap: 0; border-bottom: var(--tab-border);
  overflow-x: auto; scrollbar-width: none;
}

.tabs__list::-webkit-scrollbar { display: none; }

.tabs__tab {
  font-family: var(--font-ui); font-size: var(--fs-sm); font-weight: var(--fw-medium);
  letter-spacing: var(--ls-wide); text-transform: uppercase;
  padding: var(--sp-4) var(--sp-6); color: var(--clr-text-muted);
  border-bottom: 2px solid transparent;
  transition: color var(--dur-base) var(--ease-out), border-color var(--dur-base) var(--ease-out);
  white-space: nowrap; cursor: pointer; background: none;
}

.tabs__tab:hover { color: var(--clr-text); }
.tabs__tab[aria-selected="true"], .tabs__tab.active { color: var(--clr-accent); border-bottom-color: var(--clr-accent); font-weight: var(--fw-semi); }

.tabs__panel { display: none; animation: fadeInUp var(--dur-base) var(--ease-out) both; }
.tabs__panel.active { display: block; }

.tabs--pills .tabs__list { border-bottom: none; gap: var(--sp-2); }
.tabs--pills .tabs__tab { border-bottom: none; border-radius: var(--radius-full); background: transparent; }
.tabs--pills .tabs__tab[aria-selected="true"], .tabs--pills .tabs__tab.active { background: var(--clr-primary); color: var(--clr-white); }

.tabs--vertical { display: flex; gap: var(--sp-8); }
.tabs--vertical .tabs__list { flex-direction: column; border-bottom: none; border-right: var(--tab-border); min-width: 200px; flex-shrink: 0; }
.tabs--vertical .tabs__tab { border-bottom: none; border-right: 2px solid transparent; text-align: left; }
.tabs--vertical .tabs__tab[aria-selected="true"] { border-right-color: var(--clr-accent); border-bottom: none; }
.tabs--vertical .tabs__content { flex: 1; }

/* ============================================
   COMPONENTS: TIMELINE
   ============================================ */

/* Story Hero Timeline V2 */
.story-hero__images { position: absolute; inset: 0; }
.story-hero__img {
  position: absolute; inset: 0; width: 100%; height: 100%;
  opacity: 0; transition: opacity 0.8s ease-out;
}
.story-hero__img.active { opacity: 1; }

.story-timeline__track {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  gap: 0;
  position: relative;
  max-width: 900px;
  margin: 0 auto;
  padding: 0 var(--sp-4);
}

.story-timeline__line {
  position: absolute;
  top: 12px;
  left: 5%;
  right: 5%;
  height: 2px;
  background: rgba(255,255,255,0.2);
}

.story-timeline__event {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  position: relative;
  padding: 0 var(--sp-2);
  min-width: 0;
}

.story-timeline__dot {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: 3px solid var(--clr-accent-secondary);
  background: var(--clr-primary);
  transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
  flex-shrink: 0;
  position: relative;
  z-index: 2;
}

.story-timeline__event:hover .story-timeline__dot,
.story-timeline__event.active .story-timeline__dot {
  background: var(--clr-accent-secondary);
  transform: scale(1.2);
  box-shadow: 0 0 12px rgba(255,187,82,0.4);
}

.story-timeline__label {
  font-family: var(--font-ui);
  font-size: 0.65rem;
  font-weight: var(--fw-semi);
  letter-spacing: var(--ls-wide);
  text-transform: uppercase;
  color: rgba(255,255,255,0.6);
  text-align: center;
  margin-top: var(--sp-2);
  white-space: nowrap;
}

.story-timeline__event.active .story-timeline__label {
  color: var(--clr-accent-secondary);
}

.story-timeline__year {
  font-family: var(--font-ui);
  font-size: 0.6rem;
  font-weight: var(--fw-bold);
  color: rgba(255,255,255,0.4);
  letter-spacing: var(--ls-wide);
  margin-top: 2px;
}

.story-timeline__event.active .story-timeline__year {
  color: var(--clr-accent);
}

.story-timeline__progress {
  width: 80%;
  height: 3px;
  background: rgba(255,255,255,0.15);
  border-radius: 2px;
  margin-top: var(--sp-2);
  overflow: hidden;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.story-timeline__event.active .story-timeline__progress {
  opacity: 1;
}

.story-timeline__progress-bar {
  height: 100%;
  width: 0%;
  background: var(--clr-accent-secondary);
  border-radius: 2px;
  transition: none;
}

.story-timeline__event.active .story-timeline__progress-bar {
  animation: storyProgress 8s linear forwards;
}

@keyframes storyProgress {
  from { width: 0%; }
  to { width: 100%; }
}

.story-detail {
  background: var(--clr-surface);
  border: 1px solid var(--clr-border);
  border-left: 4px solid var(--clr-accent);
  border-radius: var(--radius-md);
  padding: var(--sp-8);
  animation: fadeInUp 0.4s ease-out both;
}

.story-detail__year {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  font-weight: var(--fw-bold);
  letter-spacing: var(--ls-widest);
  text-transform: uppercase;
  color: var(--clr-accent);
  margin-bottom: var(--sp-2);
}

.story-detail__title {
  font-family: var(--font-heading);
  font-size: var(--fs-2xl);
  font-weight: var(--fw-semi);
  color: var(--clr-text);
  margin-bottom: var(--sp-4);
}

.story-detail__text {
  color: var(--clr-text-muted);
  line-height: var(--lh-relaxed);
}

.timeline { position: relative; padding: var(--sp-12) 0; overflow: hidden; }

.timeline__preview {
  aspect-ratio: 16/7; position: relative; overflow: hidden;
  border-radius: var(--radius-lg); margin-bottom: var(--sp-12); background: var(--clr-primary);
}

.timeline__preview-img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity var(--dur-slow) var(--ease-out); }
.timeline__preview-img.active { opacity: 1; }

.timeline__detail {
  background: var(--clr-surface); border: 1px solid var(--clr-border);
  border-left: 4px solid var(--clr-accent); border-radius: var(--radius-md);
  padding: var(--sp-8); margin-bottom: var(--sp-10);
  display: none; animation: slideInLeft var(--dur-base) var(--ease-out) both;
}

.timeline__detail.active { display: block; }
.timeline__detail-year { font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-bold); letter-spacing: var(--ls-widest); text-transform: uppercase; color: var(--clr-accent); margin-bottom: var(--sp-2); }
.timeline__detail-title { font-family: var(--font-heading); font-size: var(--fs-2xl); font-weight: var(--fw-semi); color: var(--clr-text); margin-bottom: var(--sp-4); }
.timeline__detail-text { color: var(--clr-text-muted); line-height: var(--lh-relaxed); }

.timeline__track-wrapper { overflow-x: auto; padding-bottom: var(--sp-4); scrollbar-width: thin; scrollbar-color: var(--clr-accent) var(--clr-border); }

.timeline__track { position: relative; display: flex; align-items: flex-start; min-width: max-content; padding: 0 var(--sp-8); }
.timeline__track::before { content: ''; position: absolute; top: 20px; left: 0; right: 0; height: 2px; background: linear-gradient(to right, transparent, var(--clr-accent) 5%, var(--clr-accent) 95%, transparent); }

.timeline__event { display: flex; flex-direction: column; align-items: center; gap: var(--sp-3); padding-inline: var(--sp-8); cursor: pointer; position: relative; }
.timeline__event-dot { width: 20px; height: 20px; border-radius: 50%; border: 2px solid var(--clr-accent-secondary); background: var(--clr-bg); transition: background var(--dur-base) var(--ease-out), transform var(--dur-base) var(--ease-spring); flex-shrink: 0; position: relative; z-index: 1; }
.timeline__event:hover .timeline__event-dot, .timeline__event.active .timeline__event-dot { background: var(--clr-accent); transform: scale(1.3); }
.timeline__event-label { font-family: var(--font-heading); font-size: var(--fs-sm); font-weight: var(--fw-semi); color: var(--clr-text); text-align: center; max-width: 120px; }
.timeline__event-year { font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-bold); letter-spacing: var(--ls-wide); color: var(--clr-accent); }
.timeline__event.active .timeline__event-label { color: var(--clr-accent); }

@media (max-width: 768px) { .timeline__preview { aspect-ratio: 4/3; } }

/* ============================================
   COMPONENTS: HERO
   ============================================ */
.hero-video {
  position: relative;
  height: 100vh; min-height: 600px;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden; background: var(--clr-primary);
}

.hero-video__video { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0; }

.hero-video__overlay {
  position: absolute; inset: 0;
  background: linear-gradient(135deg, rgba(13,17,23,0.6) 0%, rgba(27,43,58,0.5) 50%, rgba(13,17,23,0.4) 100%);
  z-index: 1;
}

.hero-video__content { position: relative; z-index: 2; text-align: center; padding-inline: var(--sp-6); max-width: 900px; }

.hero-video__title {
  font-family: var(--font-display);
  font-size: clamp(3rem, 9vw, 7rem);
  font-weight: var(--fw-bold); letter-spacing: var(--ls-tight);
  color: var(--clr-white);
  text-shadow: 0 2px 40px rgba(0,0,0,0.4);
  animation: fadeInUp var(--dur-slower) var(--ease-out) 0.3s both;
}

.hero-video__subtitle {
  font-family: var(--font-ui); font-size: var(--fs-sm); font-weight: var(--fw-medium);
  letter-spacing: var(--ls-widest); text-transform: uppercase;
  color: var(--clr-accent); margin-bottom: var(--sp-5);
  animation: fadeInUp var(--dur-slower) var(--ease-out) 0.15s both;
}

.hero-video__actions {
  display: flex; gap: var(--sp-4); justify-content: center; flex-wrap: wrap;
  margin-top: var(--sp-8);
  animation: fadeInUp var(--dur-slower) var(--ease-out) 0.45s both;
}

.hero-video--home {
  justify-content: flex-start;
}

.hero-video--home .hero-video__overlay {
  background:
    linear-gradient(90deg, rgba(70, 74, 82, 0.9) 0%, rgba(70, 74, 82, 0.76) 32%, rgba(70, 74, 82, 0.5) 58%, rgba(70, 74, 82, 0.24) 80%, rgba(70, 74, 82, 0.08) 100%),
    linear-gradient(180deg, rgba(70, 74, 82, 0.28) 0%, rgba(70, 74, 82, 0.16) 50%, rgba(70, 74, 82, 0.3) 100%);
}

.hero-video__content--home {
  text-align: left;
  max-width: 820px;
  padding-left: clamp(1rem, 6vw, 5.5rem);
  padding-right: var(--sp-6);
}

.hero-video--home .hero-video__actions {
  justify-content: flex-start;
}

.hero-video--home .hero-video__btn-minimal {
  background: transparent;
  color: rgba(255, 255, 255, 0.96);
  border: 1px solid rgba(255, 255, 255, 0.45);
  border-radius: var(--radius-full);
  padding: 0.7rem 1.1rem;
  font-size: 0.86rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  min-height: 0;
}

.hero-video--home .hero-video__btn-minimal:hover {
  color: #ffffff;
  border-color: rgba(255, 255, 255, 0.9);
  background: rgba(255, 255, 255, 0.08);
}

.hero-video__subtitle--home {
  margin-bottom: var(--sp-5);
  color: var(--clr-accent-dark);
}

.hero-video__title--home {
  font-family: var(--font-ui);
  font-size: clamp(2.5rem, 7vw, 5.2rem);
  font-weight: var(--fw-bold);
  letter-spacing: 0.04em;
  line-height: 1.03;
  text-transform: uppercase;
  text-shadow: none;
  display: inline-flex;
  align-items: baseline;
  gap: 0.45rem;
  flex-wrap: wrap;
}

.hero-video__title-pendleton {
  color: var(--clr-primary);
}

.hero-video__title-companies {
  color: var(--clr-accent);
  background: linear-gradient(90deg, var(--clr-accent-light) 0%, var(--clr-accent) 45%, var(--clr-accent-dark) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.hero-video__scroll {
  position: absolute; bottom: var(--sp-8); left: 50%; transform: translateX(-50%);
  z-index: 2; display: flex; flex-direction: column; align-items: center; gap: var(--sp-2);
  animation: fadeIn 1s var(--ease-out) 1s both;
}

.hero-video__scroll span {
  font-family: var(--font-ui); font-size: var(--fs-xs);
  letter-spacing: var(--ls-widest); text-transform: uppercase;
  color: rgba(255,255,255,0.6);
}

.hero-video__scroll-line {
  width: 1px; height: 48px;
  background: linear-gradient(to bottom, rgba(255,255,255,0.6), transparent);
  animation: pulse 2s ease-in-out infinite;
}

/* Smaller hero variants */
.hero-quote {
  position: relative; min-height: 60vh;
  display: flex; align-items: center; justify-content: center;
  background: var(--clr-primary); overflow: hidden;
  padding: var(--sp-24) var(--sp-6);
}

.hero-image {
  position: relative; min-height: 70vh;
  display: flex; align-items: flex-end; overflow: hidden;
  background: var(--clr-primary);
}

/* ============================================
   PAGES: HOME
   ============================================ */
.home-services { padding-block: var(--sp-24); background: var(--clr-bg); }

.home-services__header { text-align: center; max-width: 640px; margin: 0 auto var(--sp-16); }

.home-services__grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--sp-1); }

.home-services__item {
  position: relative; background: var(--clr-primary);
  padding: var(--sp-10) var(--sp-8); overflow: hidden; cursor: pointer;
  transition: flex var(--dur-slow) var(--ease-out);
  min-height: 380px; display: flex; flex-direction: column; justify-content: flex-end;
}

.home-services__item::before {
  content: ''; position: absolute; inset: 0;
  background: linear-gradient(135deg, rgba(75,172,198,0.1) 0%, transparent 100%);
  opacity: 0; transition: opacity var(--dur-base) var(--ease-out);
}

.home-services__item:hover::before { opacity: 1; }

.home-services__item-number {
  position: absolute; top: var(--sp-6); right: var(--sp-6);
  font-family: var(--font-display); font-size: 5rem; font-weight: var(--fw-bold);
  color: rgba(75, 172, 198, 0.08); line-height: 1;
  transition: color var(--dur-base) var(--ease-out);
}

.home-services__item:hover .home-services__item-number { color: rgba(75, 172, 198, 0.18); }

.home-services__item-label {
  font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-semi);
  letter-spacing: var(--ls-widest); text-transform: uppercase;
  color: var(--clr-accent); margin-bottom: var(--sp-3);
}

.home-services__item-title { font-family: var(--font-heading); font-size: var(--fs-2xl); color: var(--clr-white); font-weight: var(--fw-semi); margin-bottom: var(--sp-3); }

.home-services__item-text {
  font-size: var(--fs-sm); color: rgba(255,255,255,0.6); line-height: var(--lh-relaxed);
  max-height: 0; overflow: hidden; transition: max-height var(--dur-slow) var(--ease-out);
}

.home-services__item:hover .home-services__item-text { max-height: 200px; }

.home-services__item-line {
  width: 0; height: 2px; background: var(--clr-accent);
  margin-bottom: var(--sp-4); transition: width var(--dur-slow) var(--ease-out);
}

.home-services__item:hover .home-services__item-line { width: 40px; }

@media (max-width: 1024px) { .home-services__grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 640px) {
  .home-services__grid { grid-template-columns: 1fr; }
  .home-services__item { min-height: 240px; }
}

.home-stats { background: var(--clr-primary); padding-block: var(--sp-16); }

.home-stats__grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--sp-8); text-align: center; }

.home-stats__item { padding: var(--sp-8); border-right: 1px solid rgba(255,255,255,0.1); }
.home-stats__item:last-child { border-right: none; }

.home-stats__number {
  font-family: var(--font-display); font-size: var(--fs-4xl); font-weight: var(--fw-bold);
  color: var(--clr-accent); line-height: 1; margin-bottom: var(--sp-3);
}

.home-stats__label {
  font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-medium);
  letter-spacing: var(--ls-widest); text-transform: uppercase; color: rgba(255,255,255,0.5);
}

@media (max-width: 768px) {
  .home-stats__grid { grid-template-columns: repeat(2, 1fr); }
  .home-stats__item { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.1); }
  .home-stats--hero { bottom: 0.5rem; padding-block: var(--sp-5); }
}

@media (max-width: 480px) { .home-stats__grid { grid-template-columns: 1fr; } }

.home-stats--overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, rgba(13, 17, 23, 0.9), transparent);
  padding: var(--sp-12) var(--sp-6);
  z-index: 2;
}

.home-stats--hero {
  position: absolute;
  bottom: clamp(0.75rem, 3vh, 2.5rem);
  left: 0;
  right: 0;
  z-index: 2;
  background: transparent;
  backdrop-filter: none;
  padding-block: var(--sp-8);
}

.hero-video--home .home-stats--hero .home-stats__number {
  font-size: clamp(2.55rem, 5.2vw, 4.8rem);
  letter-spacing: -0.015em;
}

@keyframes fadeInUpStagger {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.home-stats__item--animate {
  opacity: 0;
  animation: fadeInUpStagger 0.95s ease-out forwards;
}

.home-stats__item--animate:nth-child(1) { animation-delay: 0.2s; }
.home-stats__item--animate:nth-child(2) { animation-delay: 0.55s; }
.home-stats__item--animate:nth-child(3) { animation-delay: 0.9s; }
.home-stats__item--animate:nth-child(4) { animation-delay: 1.25s; }

.hero-video--home .home-stats__number,
.hero-video--home .home-stats__label {
  color: #fff !important;
}

/* ============================================
   PAGES: ABOUT
   ============================================ */
.mission-statement { padding-block: var(--sp-24); background: var(--clr-bg); }
.hero-overlap .page-content { padding-top: 0 !important; }

body.hero-nav-transparent.has-subnav .navbar:not(.nav-active):not(:hover):not(:focus-within) {
  background: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  box-shadow: none;
}

body.hero-nav-transparent.has-subnav .navbar:not(.nav-active):not(:hover):not(:focus-within) .navbar__link { color: rgba(255, 255, 255, 0.9); }
body.hero-nav-transparent.has-subnav .navbar:not(.nav-active):not(:hover):not(:focus-within) .theme-toggle { color: rgba(255, 255, 255, 0.85); }
body.hero-nav-transparent.has-subnav .navbar:not(.nav-active):not(:hover):not(:focus-within) #lang-switcher {
  color: rgba(255, 255, 255, 0.86);
  border-color: rgba(255, 255, 255, 0.38);
}
body.hero-nav-transparent.has-subnav .navbar:not(.nav-active):not(:hover):not(:focus-within) .navbar__hamburger span { background: #ffffff; }

body.hero-nav-transparent.has-subnav .navbar.nav-active,
body.hero-nav-transparent.has-subnav .navbar:hover,
body.hero-nav-transparent.has-subnav .navbar:focus-within {
  background: rgba(255, 255, 255, 0.97);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 4px 16px rgba(27, 43, 58, 0.12);
}
body.hero-nav-transparent.has-subnav .navbar.nav-active .navbar__link,
body.hero-nav-transparent.has-subnav .navbar:hover .navbar__link,
body.hero-nav-transparent.has-subnav .navbar:focus-within .navbar__link { color: #0f253f; }
body.hero-nav-transparent.has-subnav .navbar.nav-active .theme-toggle,
body.hero-nav-transparent.has-subnav .navbar:hover .theme-toggle,
body.hero-nav-transparent.has-subnav .navbar:focus-within .theme-toggle { color: #0f253f; }
body.hero-nav-transparent.has-subnav .navbar.nav-active #lang-switcher,
body.hero-nav-transparent.has-subnav .navbar:hover #lang-switcher,
body.hero-nav-transparent.has-subnav .navbar:focus-within #lang-switcher {
  color: #0f253f;
  border-color: rgba(15, 37, 63, 0.3);
}
body.hero-nav-transparent.has-subnav .navbar.nav-active .navbar__hamburger span,
body.hero-nav-transparent.has-subnav .navbar:hover .navbar__hamburger span,
body.hero-nav-transparent.has-subnav .navbar:focus-within .navbar__hamburger span { background: #0f253f; }

[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar.nav-active,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:hover,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:focus-within,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar.nav-active,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:hover,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:focus-within {
  background: rgba(13, 17, 23, 0.97);
}

[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar.nav-active .navbar__link,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:hover .navbar__link,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:focus-within .navbar__link,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar.nav-active .navbar__link,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:hover .navbar__link,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:focus-within .navbar__link { color: #E8E4DC; }

[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar.nav-active .theme-toggle,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:hover .theme-toggle,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:focus-within .theme-toggle,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar.nav-active .theme-toggle,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:hover .theme-toggle,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:focus-within .theme-toggle { color: #E8E4DC; }

[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar.nav-active #lang-switcher,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:hover #lang-switcher,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:focus-within #lang-switcher,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar.nav-active #lang-switcher,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:hover #lang-switcher,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:focus-within #lang-switcher {
  color: #E8E4DC;
  border-color: rgba(232, 228, 220, 0.38);
}

[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar.nav-active .navbar__hamburger span,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:hover .navbar__hamburger span,
[data-theme="dark"] body.hero-nav-transparent.has-subnav .navbar:focus-within .navbar__hamburger span,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar.nav-active .navbar__hamburger span,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:hover .navbar__hamburger span,
body.hero-nav-transparent.has-subnav[data-theme="dark"] .navbar:focus-within .navbar__hamburger span { background: #E8E4DC; }

.hero-video--mission,
.hero-video--portfolio-overview,
.hero-video--careers-overview {
  justify-content: flex-start;
  align-items: flex-start;
  min-height: 100vh;
}

.hero-video--mission .hero-video__overlay,
.hero-video--portfolio-overview .hero-video__overlay,
.hero-video--careers-overview .hero-video__overlay {
  background:
    linear-gradient(90deg, rgba(70, 74, 82, 0.9) 0%, rgba(70, 74, 82, 0.76) 32%, rgba(70, 74, 82, 0.5) 58%, rgba(70, 74, 82, 0.24) 80%, rgba(70, 74, 82, 0.08) 100%),
    linear-gradient(180deg, rgba(70, 74, 82, 0.28) 0%, rgba(70, 74, 82, 0.16) 50%, rgba(70, 74, 82, 0.3) 100%);
}

.hero-video__content--mission,
.hero-video__content--split {
  width: 100%;
  max-width: none;
  margin-inline: 0;
  text-align: left;
  padding: calc(var(--navbar-h) + var(--subnav-h) + var(--sp-14)) var(--sp-6) var(--sp-10) clamp(1rem, 6vw, 5.5rem);
}

.hero-video__split {
  display: grid;
  grid-template-columns: minmax(0, 1.08fr) minmax(0, 1fr);
  gap: clamp(1.5rem, 3vw, 3rem);
  align-items: start;
}

.hero-video--portfolio-overview .hero-video__content--split,
.hero-video--careers-overview .hero-video__content--split {
  min-height: 100vh;
  display: flex;
  align-items: center;
  padding-top: calc(var(--navbar-h) + var(--subnav-h) + var(--sp-8));
  padding-bottom: var(--sp-14);
}

.hero-video--mission .hero-video__content--mission {
  min-height: 100vh;
  display: flex;
  align-items: center;
  padding-top: calc(var(--navbar-h) + var(--subnav-h) + var(--sp-8));
  padding-bottom: var(--sp-16);
}

.hero-video__subtitle--mission {
  color: rgba(255, 255, 255, 0.85);
  margin-bottom: var(--sp-4);
}

.hero-video__subtitle--warm {
  color: var(--clr-accent-secondary);
}

.hero-video__mission-heading {
  font-family: var(--font-ui);
  font-size: clamp(2rem, 4vw, 4rem);
  font-weight: var(--fw-bold);
  text-transform: uppercase;
  letter-spacing: 0.035em;
  line-height: 1.08;
  color: #ffffff;
  text-wrap: balance;
}

.hero-video__word-primary {
  color: var(--clr-primary);
  text-shadow: 0 2px 18px rgba(255, 255, 255, 0.14);
}

.hero-video__word-accent {
  color: var(--clr-accent);
  text-shadow: 0 2px 18px rgba(255, 255, 255, 0.14);
}

.hero-video__mission-title {
  font-family: var(--font-heading);
  font-size: clamp(1.2rem, 2.2vw, 2rem);
  font-weight: var(--fw-semi);
  color: #ffffff;
  margin-bottom: var(--sp-4);
}

.hero-video__mission-copy {
  color: rgba(255, 255, 255, 0.88);
  font-size: clamp(0.96rem, 1.25vw, 1.12rem);
  line-height: 1.8;
  max-width: 58ch;
  margin: 0;
}

.home-stats__grid--3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }

.hero-video--mission .home-stats--mission {
  bottom: clamp(0.4rem, 1.4vw, 1.25rem);
  padding-block: var(--sp-7);
}

.hero-video--mission .home-stats__number,
.hero-video--mission .home-stats__label {
  color: #ffffff !important;
}

@media (max-width: 1024px) {
  .hero-video__split { grid-template-columns: 1fr; }
  .hero-video__content--mission,
  .hero-video__content--split {
    padding: calc(var(--navbar-h) + var(--subnav-h) + var(--sp-10)) var(--sp-5) var(--sp-8) var(--sp-5);
  }

  .hero-video--portfolio-overview .hero-video__content--split,
  .hero-video--careers-overview .hero-video__content--split {
    min-height: 100vh;
    align-items: center;
    padding-top: calc(var(--navbar-h) + var(--subnav-h) + var(--sp-6));
    padding-bottom: var(--sp-10);
  }

  .hero-video--mission .hero-video__content--mission {
    min-height: 100vh;
    align-items: center;
    padding-top: calc(var(--navbar-h) + var(--subnav-h) + var(--sp-6));
    padding-bottom: var(--sp-12);
  }
}

@media (max-width: 768px) {
  .home-stats__grid--3 { grid-template-columns: 1fr; }
  .hero-video--mission .home-stats--mission {
    bottom: 0;
    padding-block: var(--sp-4);
  }
}

.story-section { padding-block: var(--sp-24); }
.advantage-section { padding-block: var(--sp-8); background: var(--clr-bg); }
.advantage__header { text-align: center; margin-bottom: var(--sp-6); }

.advantage__steps { display: flex; gap: 0; overflow-x: auto; padding-bottom: var(--sp-4); }
.advantage__step { flex: 1; min-width: 100px; padding: var(--sp-3) var(--sp-2); border-right: 1px solid var(--clr-border); cursor: pointer; transition: background var(--dur-base) var(--ease-out); position: relative; text-align: center; }
.advantage__step:last-child { border-right: none; }
.advantage__step:hover, .advantage__step.active { background: rgba(75, 172, 198, 0.08); }
.advantage__step-number { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--clr-border); display: flex; align-items: center; justify-content: center; font-family: var(--font-ui); font-size: 0.65rem; font-weight: var(--fw-bold); color: var(--clr-text-muted); margin: 0 auto var(--sp-3); transition: all var(--dur-base) var(--ease-out); }
.advantage__step.active .advantage__step-number { border-color: var(--clr-accent-secondary); background: var(--clr-accent-secondary); color: var(--clr-primary); }
.advantage__step-title { font-family: var(--font-ui); font-size: 0.65rem; font-weight: var(--fw-medium); letter-spacing: var(--ls-wide); text-transform: uppercase; color: var(--clr-text); }
.advantage__connector { display: flex; align-items: center; color: var(--clr-accent); padding-top: 18px; }
.advantage__detail { background: var(--clr-surface); border: 1px solid var(--clr-border); border-top: 3px solid var(--clr-accent-secondary); border-radius: var(--radius-md); padding: var(--sp-6); margin-top: var(--sp-4); display: none; animation: fadeInUp var(--dur-base) var(--ease-out) both; }
.advantage__detail.active { display: block; }

/* Force advantage timeline to match story timeline visuals */
.story-timeline__track .advantage__step {
  border-right: none;
  background: transparent;
  min-width: 0;
  padding: 0 var(--sp-2);
  text-align: center;
}
.story-timeline__track .advantage__step:hover,
.story-timeline__track .advantage__step.active {
  background: transparent;
}

@media (max-width: 768px) {
  .advantage__steps { flex-direction: column; overflow-x: visible; }
  .advantage__step { border-right: none; border-bottom: 1px solid var(--clr-border); min-width: auto; }
  .advantage__connector { display: none; }
  .story-timeline__track .advantage__step {
    border-bottom: none;
    min-width: 0;
    padding: 0 var(--sp-2);
  }
}

.companies-section { padding-block: var(--sp-24); }
.companies-section .tabs__list { margin-bottom: var(--sp-8); }
.company-tab-content { display: grid; grid-template-columns: 1fr 1fr; gap: var(--sp-12); align-items: center; }
.company-tab-content__label { font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-semi); letter-spacing: var(--ls-widest); text-transform: uppercase; color: var(--clr-accent); margin-bottom: var(--sp-3); }
.company-tab-content__title { font-family: var(--font-heading); font-size: var(--fs-3xl); font-weight: var(--fw-semi); margin-bottom: var(--sp-4); }
.company-tab-content__text { color: var(--clr-text-muted); line-height: var(--lh-relaxed); }
.company-tab-content__services { display: flex; flex-direction: column; gap: var(--sp-3); margin-top: var(--sp-6); }
.company-tab-content__service { display: flex; align-items: center; gap: var(--sp-3); font-size: var(--fs-sm); color: var(--clr-text); }
.company-tab-content__service::before { content: ''; width: 6px; height: 6px; border-radius: 50%; background: var(--clr-accent); flex-shrink: 0; }
.company-tab-content__image { border-radius: var(--radius-lg); overflow: hidden; aspect-ratio: 4/3; background: var(--clr-primary); }
.company-tab-content__image img { width: 100%; height: 100%; object-fit: cover; }

@media (max-width: 768px) { .company-tab-content { grid-template-columns: 1fr; } }

.leadership-section { padding-block: var(--sp-24); background: var(--clr-bg); }
.leader-card { text-align: center; }
.leader-card__photo { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; margin: 0 auto var(--sp-4); border: 3px solid var(--clr-accent-secondary); background: var(--clr-primary); }
.leader-card__name { font-family: var(--font-heading); font-size: var(--fs-lg); font-weight: var(--fw-semi); color: var(--clr-text); margin-bottom: var(--sp-1); }
.leader-card__title { font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-medium); letter-spacing: var(--ls-wider); text-transform: uppercase; color: var(--clr-accent); }

/* Advantage V2 - Story-like layout */
.advantage-v2-hero {
  position: relative;
  height: 60vh;
  min-height: 400px;
  overflow: hidden;
  background: var(--clr-primary);
}

.advantage-v2-hero__images { position: absolute; inset: 0; }
.advantage-v2-hero__img {
  position: absolute; inset: 0; width: 100%; height: 100%;
  opacity: 0; transition: opacity 0.8s ease-out;
}
.advantage-v2-hero__img.active { opacity: 1; }

.advantage-v2__detail {
  background: var(--clr-surface);
  border: 1px solid var(--clr-border);
  border-left: 4px solid var(--clr-accent);
  border-radius: var(--radius-md);
  padding: var(--sp-8);
  animation: fadeInUp 0.4s ease-out both;
}

.advantage-v2__detail-label {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  font-weight: var(--fw-bold);
  letter-spacing: var(--ls-widest);
  text-transform: uppercase;
  color: var(--clr-accent);
  margin-bottom: var(--sp-2);
}

.advantage-v2__detail-title {
  font-family: var(--font-heading);
  font-size: var(--fs-2xl);
  font-weight: var(--fw-semi);
  color: var(--clr-text);
  margin-bottom: var(--sp-4);
}

.advantage-v2__detail-text {
  color: var(--clr-text-muted);
  line-height: var(--lh-relaxed);
}

/* Careers V2 Hero */
.careers-hero-v2 {
  position: relative;
  height: 75vh;
  min-height: 500px;
  overflow: hidden;
  background: var(--clr-primary);
}

/* Portfolio Overview Doughnut */
.portfolio-allocation {
  padding-block: var(--sp-16);
  background: var(--clr-bg);
}

.portfolio-allocation__chart-wrap {
  max-width: 400px;
  margin: 0 auto var(--sp-12);
  position: relative;
}

.portfolio-allocation__legend {
  display: flex;
  justify-content: center;
  gap: var(--sp-6);
  flex-wrap: wrap;
}

.portfolio-allocation__legend-item {
  display: flex;
  align-items: center;
  gap: var(--sp-2);
  font-family: var(--font-ui);
  font-size: var(--fs-sm);
  color: var(--clr-text);
}

.portfolio-allocation__legend-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  flex-shrink: 0;
}

.overview-doughnut {
  margin-top: var(--sp-10);
  padding: var(--sp-8);
  border-radius: var(--radius-lg);
  background: linear-gradient(135deg, rgba(27, 43, 58, 0.06), rgba(75, 172, 198, 0.08));
  border: 1px solid var(--clr-border);
}

.overview-doughnut__canvas-wrap {
  width: min(100%, 280px);
  margin: 0 auto;
}

.overview-doughnut__legend {
  margin-top: var(--sp-6);
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--sp-3) var(--sp-6);
}

.overview-doughnut__legend-item {
  display: flex;
  align-items: center;
  gap: var(--sp-2);
  font-family: var(--font-ui);
  font-size: var(--fs-sm);
  color: var(--clr-text);
}

.overview-doughnut__legend-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  flex-shrink: 0;
}

/* Leadership V2 Cards */
.leader-card-v2 { text-align: center; }
.leader-card-v2__photo-wrap {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  overflow: hidden;
  border-radius: var(--radius-lg);
  margin-bottom: var(--sp-4);
  border: 3px solid var(--clr-accent-secondary);
}
.leader-card-v2__photo {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: grayscale(100%);
  transition: filter 0.5s ease-out;
}
.leader-card-v2__photo-wrap:hover .leader-card-v2__photo {
  filter: grayscale(0%);
}
.leader-card-v2__overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(13,17,23,0.4);
  opacity: 0;
  transition: opacity 0.3s ease-out;
}
.leader-card-v2__photo-wrap:hover .leader-card-v2__overlay {
  opacity: 1;
}
.leader-card-v2__bio-btn {
  color: #fff !important;
  border-color: #fff !important;
}
.leader-card-v2__bio-btn:hover {
  background: #fff !important;
  color: var(--clr-primary) !important;
}
.leader-card-v2__name {
  font-family: var(--font-heading);
  font-size: var(--fs-lg);
  font-weight: var(--fw-semi);
  color: var(--clr-text);
  margin-bottom: var(--sp-1);
}
.leader-card-v2__title {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  font-weight: var(--fw-medium);
  letter-spacing: var(--ls-wider);
  text-transform: uppercase;
  color: var(--clr-accent);
}

/* Leadership Bio Detail Template */
.bio-profile {
  display: grid;
  grid-template-columns: 320px minmax(0, 1fr);
  gap: var(--sp-8);
  align-items: start;
}

.bio-profile__image,
.bio-profile__placeholder {
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: var(--radius-lg);
  border: 3px solid var(--clr-accent-secondary);
  overflow: hidden;
}

.bio-profile__image {
  object-fit: cover;
}

.bio-profile__placeholder {
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, #1b2b3a, #2c4a63);
}

.bio-profile__placeholder span {
  font-family: var(--font-display);
  font-size: clamp(3rem, 7vw, 5rem);
  color: rgba(255, 255, 255, 0.35);
}

.bio-profile__paragraphs {
  display: grid;
  gap: var(--sp-4);
}

.bio-profile__paragraphs p {
  margin: 0;
}

@media (max-width: 980px) {
  .bio-profile {
    grid-template-columns: 1fr;
  }
}

/* Property Detail Template */
.property-detail {
  display: grid;
  grid-template-columns: 340px minmax(0, 1fr);
  gap: var(--sp-8);
  align-items: start;
}

.property-detail__image,
.property-detail__placeholder {
  width: 100%;
  aspect-ratio: 4 / 3;
  border-radius: var(--radius-lg);
  border: 3px solid var(--clr-accent-secondary);
  overflow: hidden;
}

.property-detail__image {
  object-fit: cover;
}

.property-detail__placeholder {
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, #1b2b3a, #2c4a63);
}

.property-detail__placeholder span {
  font-family: var(--font-display);
  font-size: clamp(3rem, 7vw, 5rem);
  color: rgba(255, 255, 255, 0.35);
}

.property-detail__description {
  display: grid;
  gap: var(--sp-4);
}

.property-detail__description p {
  margin: 0;
}

.property-facts {
  display: grid;
  gap: var(--sp-3);
}

.property-facts__item {
  display: flex;
  justify-content: space-between;
  gap: var(--sp-4);
  padding-bottom: var(--sp-2);
  border-bottom: 1px solid var(--clr-border);
}

.property-facts__label {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  letter-spacing: var(--ls-wide);
  text-transform: uppercase;
  color: var(--clr-text-muted);
}

.property-facts__value {
  font-family: var(--font-ui);
  font-size: var(--fs-sm);
  font-weight: var(--fw-semi);
  color: var(--clr-text);
  text-align: right;
}

@media (max-width: 980px) {
  .property-detail {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   PAGES: PORTFOLIO
   ============================================ */
.portfolio-hero { background: var(--clr-primary); padding-top: calc(var(--navbar-h) + var(--sp-16)); padding-bottom: var(--sp-12); }
.portfolio-hero__title {
  font-family: var(--font-display);
  font-size: clamp(var(--fs-3xl), 5vw, var(--fs-6xl));
  font-weight: var(--fw-bold);
  color: #fff;
  text-align: center;
}
.portfolio-hero--overview {
  min-height: 72vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: calc(var(--navbar-h) + var(--subnav-h) + var(--sp-16));
  padding-bottom: var(--sp-16);
}
.portfolio-filters { padding-block: var(--sp-8); background: var(--clr-bg); position: sticky; top: var(--navbar-h); z-index: 50; border-bottom: 1px solid var(--clr-border); }
.portfolio-grid { padding-block: var(--sp-16); background: var(--clr-bg); }
.portfolio-grid .grid--auto-lg { gap: var(--sp-6); }
.portfolio-count { font-family: var(--font-ui); font-size: var(--fs-sm); color: var(--clr-text-muted); margin-bottom: var(--sp-8); }

.portfolio-metrics {
  padding: var(--sp-8) 0 var(--sp-4);
  background: var(--clr-bg);
}
.portfolio-metrics__grid {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: var(--sp-4);
}
.portfolio-metric {
  padding: var(--sp-5) var(--sp-4);
  background: var(--clr-surface);
  border: 1px solid var(--clr-border);
  border-radius: var(--radius-lg);
  border-top: 3px solid var(--clr-accent);
  box-shadow: var(--shadow-sm);
}
.portfolio-metric__value {
  font-family: var(--font-display);
  font-size: clamp(1.35rem, 2.2vw, 1.9rem);
  font-weight: var(--fw-bold);
  color: var(--clr-accent-dark);
  line-height: 1.2;
}
.portfolio-metric__label {
  margin-top: var(--sp-2);
  font-family: var(--font-ui);
  font-size: 0.68rem;
  letter-spacing: var(--ls-wider);
  text-transform: uppercase;
  color: var(--clr-text-muted);
}

.portfolio-charts {
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  gap: var(--sp-6);
  align-items: stretch;
}
.portfolio-chart {
  background: var(--clr-surface);
  border: 1px solid var(--clr-border);
  border-radius: var(--radius-lg);
  padding: var(--sp-6);
  box-shadow: var(--shadow-sm);
}
.portfolio-chart__title {
  font-family: var(--font-heading);
  font-size: var(--fs-xl);
  margin-bottom: var(--sp-4);
  color: var(--clr-text);
}

.properties-section {
  margin-top: var(--sp-10);
}
.properties-section__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--sp-4);
  margin-bottom: var(--sp-6);
}
.properties-count {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  letter-spacing: var(--ls-wider);
  text-transform: uppercase;
  color: var(--clr-text-muted);
}
.properties-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: var(--sp-5);
}
.properties-grid .card--property .card__body {
  padding: var(--sp-5);
}
.properties-grid .card--property .card__title {
  font-size: clamp(1.1rem, 1.6vw, 1.25rem);
  margin-bottom: var(--sp-2);
}
.properties-grid .card--property .card__footer {
  padding: var(--sp-3) var(--sp-5);
}
.properties-grid .card--property .card__badge {
  font-size: 0.65rem;
}

.property-card { background: var(--clr-surface); border-radius: var(--radius-xl); overflow: hidden; border: 1px solid var(--clr-border); transition: transform var(--dur-base) var(--ease-out), box-shadow var(--dur-base) var(--ease-out); }
.property-card:hover { transform: translateY(-8px); box-shadow: var(--shadow-xl); }
.property-card__img-wrap { position: relative; aspect-ratio: 4/3; overflow: hidden; background: var(--clr-primary); }
.property-card__img { width: 100%; height: 100%; object-fit: cover; transition: transform var(--dur-slow) var(--ease-out); }
.property-card:hover .property-card__img { transform: scale(1.05); }
.property-card__badge { position: absolute; top: var(--sp-4); left: var(--sp-4); font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-semi); letter-spacing: var(--ls-wide); text-transform: uppercase; padding: var(--sp-1) var(--sp-3); border-radius: var(--radius-full); }
.property-card__badge--active { background: var(--clr-accent); color: var(--clr-primary); }
.property-card__badge--sold { background: rgba(255,255,255,0.9); color: var(--clr-primary); }
.property-card__body { padding: var(--sp-6); }
.property-card__type { font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-semi); letter-spacing: var(--ls-widest); text-transform: uppercase; color: var(--clr-accent); margin-bottom: var(--sp-2); }
.property-card__name { font-family: var(--font-heading); font-size: var(--fs-xl); font-weight: var(--fw-semi); color: var(--clr-text); margin-bottom: var(--sp-1); }
.property-card__location { font-size: var(--fs-sm); color: var(--clr-text-muted); margin-bottom: var(--sp-4); }
.property-card__metrics { display: flex; gap: var(--sp-4); padding-top: var(--sp-4); border-top: 1px solid var(--clr-border); }
.property-card__metric { display: flex; flex-direction: column; gap: 2px; }
.property-card__metric-val { font-family: var(--font-ui); font-size: var(--fs-sm); font-weight: var(--fw-semi); color: var(--clr-text); }
.property-card__metric-label { font-size: var(--fs-xs); text-transform: uppercase; letter-spacing: var(--ls-wider); color: var(--clr-text-muted); }

/* ============================================
   PAGES: CAREERS
   ============================================ */
.careers-hero { background: var(--clr-primary); padding-top: var(--navbar-h); padding-bottom: 0; overflow: hidden; }
.careers-hero__triple { display: grid; grid-template-columns: repeat(3, 1fr); height: 360px; }
.careers-hero__img-wrap { position: relative; overflow: hidden; }
.careers-hero__img-wrap img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.7); transition: filter var(--dur-slow) var(--ease-out); }
.careers-hero__img-wrap:hover img { filter: brightness(0.9); }
.careers-hero__img-label { position: absolute; inset: 0; display: flex; align-items: flex-end; padding: var(--sp-6); }
.careers-hero__tagline { padding: var(--sp-16) var(--sp-6); text-align: center; }
.careers-hero__tagline p { font-family: var(--font-display); font-size: clamp(var(--fs-lg), 3vw, var(--fs-3xl)); font-weight: var(--fw-regular); font-style: italic; color: var(--clr-white); line-height: var(--lh-snug); }

.benefits-section { padding-block: var(--sp-24); background: var(--clr-bg); }
.benefit-card { background: var(--clr-surface); border-radius: var(--radius-xl); padding: var(--sp-10); border: 1px solid var(--clr-border); }
.benefit-card__icon { font-size: 2.5rem; margin-bottom: var(--sp-5); }
.benefit-card__title { font-family: var(--font-heading); font-size: var(--fs-2xl); font-weight: var(--fw-semi); margin-bottom: var(--sp-4); }
.benefit-card__desc { color: var(--clr-text-muted); line-height: var(--lh-relaxed); }

.development-pillars {
  display: flex;
  flex-direction: column;
  gap: var(--sp-4);
}

.development-pillar {
  padding: var(--sp-6);
  border: 1px solid var(--clr-border);
  border-radius: var(--radius-md);
  background: linear-gradient(180deg, rgba(75, 172, 198, 0.06) 0%, transparent 70%);
}

.development-pillar__head {
  display: flex;
  align-items: center;
  gap: var(--sp-3);
  margin-bottom: var(--sp-3);
}

.development-pillar__icon {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  border: 1px solid rgba(75, 172, 198, 0.38);
  background: rgba(75, 172, 198, 0.12);
  color: var(--clr-accent-dark);
  display: grid;
  place-items: center;
  flex-shrink: 0;
}

.development-pillar__icon svg {
  width: 22px;
  height: 22px;
}

.development-pillar__title {
  font-family: var(--font-heading);
  font-size: 1.1rem;
  margin: 0;
}

.development-pillar__text {
  font-size: .875rem;
  color: var(--clr-text-muted);
  line-height: 1.8;
  margin: 0;
}

.positions-section {
  padding-block: var(--sp-24);
  background: linear-gradient(180deg, #f6fbff 0%, #ffffff 58%);
}
.positions-section .filters { margin-bottom: var(--sp-10); }
.positions-section #positions-list {
  display: grid;
  gap: var(--sp-5);
}
.positions-filter-box {
  background: rgba(75, 172, 198, 0.24);
  border-color: rgba(124, 200, 220, 0.6);
  box-shadow: 0 12px 28px rgba(27, 43, 58, 0.25);
}
.positions-filter-box__label {
  color: rgba(255, 255, 255, 0.82) !important;
}
.positions-filter-box__select {
  background: rgba(27, 43, 58, 0.48) !important;
  border-color: rgba(124, 200, 220, 0.7) !important;
  color: #fff !important;
}
.positions-filter-box__select:focus {
  border-color: #9dd9e7 !important;
  box-shadow: 0 0 0 3px rgba(124, 200, 220, 0.35) !important;
}
.position-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--sp-6);
  background: #fff;
  border: 1px solid rgba(44, 74, 99, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--sp-8);
  cursor: pointer;
  transition: all var(--dur-base) var(--ease-out);
  text-decoration: none;
  box-shadow: 0 10px 24px rgba(27, 43, 58, 0.08);
}
.position-card:hover { border-color: var(--clr-accent); box-shadow: var(--shadow-md); transform: translateX(4px); }
.position-card__title { font-family: var(--font-heading); font-size: var(--fs-xl); font-weight: var(--fw-semi); margin-bottom: var(--sp-2); color: var(--clr-primary); }
.position-card__meta { display: flex; flex-wrap: wrap; gap: var(--sp-4); font-size: var(--fs-sm); color: var(--clr-dark-gray); }
.position-card__meta span { display: flex; align-items: center; gap: var(--sp-1); }
.position-card__arrow { color: var(--clr-accent); transition: transform var(--dur-base) var(--ease-out); }
.position-card:hover .position-card__arrow { transform: translateX(4px); }
.position-card__actions { margin-left: auto; display: flex; align-items: center; }
.position-card--linked { cursor: default; }
.position-card--linked:hover { transform: none; }

.job-template,
.job-application {
  background: var(--clr-surface);
  border: 1px solid var(--clr-border);
  border-radius: var(--radius-lg);
  padding: var(--sp-8);
  box-shadow: var(--shadow-sm);
}
.job-template__title {
  font-family: var(--font-heading);
  font-size: var(--fs-2xl);
  margin: var(--sp-2) 0 var(--sp-4);
}
.job-template__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-3);
  margin-bottom: var(--sp-5);
}
.job-template__meta span {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  letter-spacing: var(--ls-wide);
  text-transform: uppercase;
  color: var(--clr-text-muted);
}
.job-template h4 {
  margin-top: var(--sp-5);
  margin-bottom: var(--sp-2);
  font-size: var(--fs-lg);
}
.job-template p {
  color: var(--clr-text-muted);
  line-height: var(--lh-relaxed);
}
.job-template__list {
  list-style: disc;
  margin: 0;
  padding-left: var(--sp-6);
  color: var(--clr-text-muted);
  line-height: var(--lh-relaxed);
}

.job-application__form {
  margin-top: var(--sp-4);
  display: grid;
  gap: var(--sp-3);
}
.job-application__form label {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  letter-spacing: var(--ls-wide);
  text-transform: uppercase;
  color: var(--clr-text-muted);
}
.job-application__form input,
.job-application__form textarea {
  width: 100%;
  padding: var(--sp-3) var(--sp-4);
  border: 1px solid var(--clr-border);
  border-radius: var(--radius-md);
  background: var(--clr-bg);
  color: var(--clr-text);
}
.job-application__form input:focus,
.job-application__form textarea:focus {
  outline: none;
  border-color: var(--clr-accent);
  box-shadow: 0 0 0 3px rgba(75, 172, 198, 0.15);
}

@media (max-width: 768px) {
  .careers-hero__triple { grid-template-columns: 1fr; height: auto; }
  .careers-hero__img-wrap { height: 200px; }
  .benefits-section .tabs--vertical { flex-direction: column; }
  .benefits-section .tabs--vertical .tabs__list { flex-direction: row; border-right: none; border-bottom: 1px solid var(--clr-border); min-width: auto; overflow-x: auto; }
  .position-card__actions { margin-left: 0; width: 100%; }
  .position-card__actions .btn { width: 100%; justify-content: center; }
}

@media (max-width: 1200px) {
  .portfolio-metrics__grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .properties-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

@media (max-width: 1024px) {
  .portfolio-charts { grid-template-columns: 1fr; }
}

@media (max-width: 900px) {
  .portfolio-metrics__grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .overview-doughnut__legend { grid-template-columns: 1fr; }
  .properties-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

@media (max-width: 560px) {
  .portfolio-metrics__grid { grid-template-columns: 1fr; }
  .properties-grid { grid-template-columns: 1fr; }
}

/* ============================================
   PAGES: PORTAL
   ============================================ */
.portal-hero {
  min-height: 100vh; background: var(--clr-primary);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  padding: calc(var(--navbar-h) + var(--sp-12)) var(--sp-6) var(--sp-12);
  position: relative; overflow: hidden;
}

.portal-hero::before {
  content: ''; position: absolute; inset: 0;
  background-image:
    radial-gradient(circle at 20% 50%, rgba(75,172,198,0.06) 0%, transparent 60%),
    radial-gradient(circle at 80% 30%, rgba(44,74,99,0.4) 0%, transparent 50%);
}

.portal-hero__content { position: relative; z-index: 1; text-align: center; width: 100%; max-width: var(--container-lg); }
.portal-hero__label { font-family: var(--font-ui); font-size: var(--fs-xs); font-weight: var(--fw-semi); letter-spacing: var(--ls-widest); text-transform: uppercase; color: var(--clr-accent); margin-bottom: var(--sp-3); }
.portal-hero__title { font-family: var(--font-display); font-size: clamp(var(--fs-3xl), 5vw, var(--fs-5xl)); font-weight: var(--fw-bold); color: var(--clr-white); margin-bottom: var(--sp-4); }
.portal-hero__subtitle { font-size: var(--fs-md); color: rgba(255,255,255,0.5); max-width: 500px; margin: 0 auto var(--sp-16); line-height: var(--lh-relaxed); }

.portal-hero__grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--sp-4); max-width: 900px; margin: 0 auto; }

.portal-card {
  background: rgba(75,172,198,0.5); border: 1px solid rgba(75,172,198,0.55);
  border-radius: var(--radius-xl); padding: var(--sp-10) var(--sp-6);
  display: flex; flex-direction: column; align-items: center; gap: var(--sp-4);
  cursor: pointer; transition: all var(--dur-slow) var(--ease-out);
  text-decoration: none; position: relative; overflow: hidden;
}

.portal-card::after { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg, rgba(75,172,198,0.1) 0%, transparent 100%); opacity: 0; transition: opacity var(--dur-base) var(--ease-out); }
.portal-card:hover { border-color: var(--clr-accent); background: rgba(75,172,198,0.6); transform: translateY(-8px); box-shadow: 0 24px 48px rgba(0,0,0,0.3); }
.portal-card:hover::after { opacity: 1; }
.portal-card__icon-wrap { width: 72px; height: 72px; border-radius: var(--radius-xl); background: rgba(75,172,198,0.8); border: 1px solid rgba(75,172,198,0.85); display: flex; align-items: center; justify-content: center; transition: all var(--dur-base) var(--ease-out); position: relative; z-index: 1; }
.portal-card:hover .portal-card__icon-wrap { background: rgba(75,172,198,0.9); transform: scale(1.1); }
.portal-card__icon { width: 32px; height: 32px; stroke: #fff; }
.portal-card__title { font-family: var(--font-ui); font-size: var(--fs-sm); font-weight: var(--fw-semi); letter-spacing: var(--ls-wide); text-transform: uppercase; color: var(--clr-white); position: relative; z-index: 1; }
.portal-card__desc { font-size: var(--fs-xs); color: rgba(255,255,255,0.4); text-align: center; line-height: var(--lh-relaxed); position: relative; z-index: 1; }
.portal-card__arrow { font-size: var(--fs-sm); color: var(--clr-accent); opacity: 0; transform: translateY(8px); transition: all var(--dur-base) var(--ease-out); position: relative; z-index: 1; }
.portal-card:hover .portal-card__arrow { opacity: 1; transform: translateY(0); }
.portal-hero__footer { margin-top: var(--sp-16); text-align: center; color: rgba(255,255,255,0.3); font-size: var(--fs-xs); letter-spacing: var(--ls-wide); }

/* Portal Account Sign-In Pages */
.portal-login-page {
  min-height: 100vh;
  padding: calc(var(--navbar-h) + var(--sp-14, 3.5rem)) var(--sp-6) var(--sp-16);
  position: relative;
  overflow: hidden;
  background: var(--clr-primary);
}

.portal-login-page__overlay {
  position: absolute;
  inset: 0;
  background:
    linear-gradient(120deg, rgba(13,17,23,0.88) 0%, rgba(13,17,23,0.6) 44%, rgba(27,43,58,0.86) 100%),
    radial-gradient(circle at 78% 16%, rgba(75,172,198,0.3), transparent 42%);
}

.portal-login-page__content {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  gap: var(--sp-10);
  align-items: center;
}

.portal-login-page__intro h1 {
  font-family: var(--font-display);
  font-size: clamp(var(--fs-3xl), 5vw, var(--fs-5xl));
  color: #fff;
  margin-top: var(--sp-3);
}

.portal-login-page__intro p {
  margin-top: var(--sp-5);
  color: rgba(255,255,255,0.68);
  line-height: var(--lh-relaxed);
  max-width: 42ch;
}

.portal-login-page__meta {
  margin-top: var(--sp-8);
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-3);
}

.portal-login-page__meta span {
  padding: var(--sp-2) var(--sp-4);
  border-radius: var(--radius-full);
  border: 1px solid rgba(124,200,220,0.46);
  background: rgba(75,172,198,0.15);
  color: rgba(255,255,255,0.85);
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  letter-spacing: var(--ls-wide);
  text-transform: uppercase;
}

.portal-login-card {
  background: rgba(255,255,255,0.98);
  border-radius: var(--radius-xl);
  border: 1px solid rgba(44,74,99,0.16);
  box-shadow: 0 28px 55px rgba(0,0,0,0.28);
  padding: var(--sp-8);
}

.portal-login-card h2 {
  font-family: var(--font-heading);
  font-size: var(--fs-2xl);
  color: var(--clr-primary);
  margin-bottom: var(--sp-2);
}

.portal-login-card__copy {
  color: var(--clr-text-muted);
  line-height: var(--lh-relaxed);
  margin-bottom: var(--sp-6);
}

.portal-login-form {
  display: grid;
  gap: var(--sp-3);
}

.portal-login-form label {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  letter-spacing: var(--ls-wide);
  text-transform: uppercase;
  color: var(--clr-text-muted);
}

.portal-login-form input {
  width: 100%;
  border: 1px solid rgba(44,74,99,0.24);
  border-radius: var(--radius-md);
  background: #fff;
  color: var(--clr-primary);
  padding: var(--sp-3) var(--sp-4);
}

.portal-login-form input:focus {
  outline: none;
  border-color: var(--clr-accent);
  box-shadow: 0 0 0 3px rgba(75,172,198,0.15);
}

.portal-login-form__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--sp-4);
  margin: var(--sp-1) 0 var(--sp-2);
}

.portal-login-form__remember {
  display: flex;
  align-items: center;
  gap: var(--sp-2);
  font-size: var(--fs-sm);
  color: var(--clr-text-muted);
}

.portal-login-form__remember input {
  width: auto;
  margin: 0;
}

.portal-login-form__forgot {
  font-family: var(--font-ui);
  font-size: var(--fs-xs);
  color: var(--clr-accent-dark);
  text-decoration: underline;
}

.portal-login-card__footer {
  margin-top: var(--sp-6);
  padding-top: var(--sp-5);
  border-top: 1px solid var(--clr-border);
  color: var(--clr-text-muted);
  font-size: var(--fs-sm);
}

.portal-login-card__footer a {
  color: var(--clr-accent-dark);
  text-decoration: underline;
}

.portal-login-status {
  margin-top: var(--sp-4);
  border-radius: var(--radius-md);
  padding: var(--sp-3) var(--sp-4);
  font-size: var(--fs-sm);
  border: 1px solid transparent;
}

.portal-login-status--info {
  background: rgba(58, 143, 168, 0.12);
  border-color: rgba(58, 143, 168, 0.38);
  color: #1f5f73;
}

.portal-login-status--success {
  background: rgba(50, 157, 104, 0.14);
  border-color: rgba(50, 157, 104, 0.45);
  color: #1f6a48;
}

.portal-login-status--error {
  background: rgba(190, 78, 78, 0.14);
  border-color: rgba(190, 78, 78, 0.45);
  color: #7f2424;
}

@media (max-width: 768px) { .portal-hero__grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 480px) { .portal-hero__grid { grid-template-columns: 1fr; } }
@media (max-width: 980px) {
  .portal-login-page__content {
    grid-template-columns: 1fr;
    gap: var(--sp-8);
  }
  .portal-login-page__intro p {
    max-width: none;
  }
}

/* ============================================
   PRINT
   ============================================ */
@media print {
  .navbar, .subnav, .footer, .hero-video__scroll { display: none; }
  body { font-size: 12pt; color: #000; background: #fff; }
}
