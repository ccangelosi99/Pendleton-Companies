// ============================================
// PENDLETON COMPANIES - i18n / Translations
// ============================================
const TRANSLATIONS = {
  en: {
    nav_about:'About',nav_portfolio:'Portfolio',nav_careers:'Careers',nav_portal:'Portal',
    nav_mission:'Mission',nav_story:'Story',nav_advantage:'Advantage',nav_companies:'Companies',nav_leadership:'Leadership',
    nav_benefits:'Benefits',nav_advancement:'Advancement',nav_openpositions:'Open Positions',
    learn_more:'Learn More',view_all:'View All',apply_now:'Apply Now',read_more:'Read More',close:'Close',
    home_hero_title:'Pendleton Companies',home_hero_sub:'Building Excellence. Delivering Value.',
    home_cta_portfolio:'View Portfolio',home_cta_about:'Our Story',
    hero_subtitle:'REAL ESTATE • BUILT DIFFERENTLY',
    sub_development:'Development',sub_portfolio_overview:'Overview',sub_portfolio_realestate:'Real Estate',
    stat_aum:'Assets Under Management',stat_states:'States',stat_units:'Units Managed',stat_years:'Years of Excellence',
    re_tab_overview:'Overview',re_tab_holdings:'Holdings',re_tab_pm:'Property Management',re_tab_construction:'Construction',re_tab_lending:'Lending',
    mission_quote:'Proving the best products and the best prices requires a non-stop commitment to value and operational excellence.',
    mission_label:'Our Mission',
    advantage_title:'Vertical Integration Advantage',
    portfolio_title:'Our Portfolio',portfolio_sub:'A track record of excellence across markets.',
    filter_location:'Location',filter_product:'Product Type',filter_project:'Project Type',filter_all:'All',
    careers_great_individuals:'Great Individuals',careers_great_teams:'Make Great Teams',
    careers_commitment:'Committed to taking care of our Greatest Resource: Our People',
    portal_title:'Welcome to Pendleton Portals',portal_subtitle:'Select your portal to sign in',
    portal_investors:'Investors',portal_vendors:'Vendors',portal_employees:'Employees',portal_applicants:'Applicants',
    portal_investors_desc:'Access investment dashboards and reports',
    portal_vendors_desc:'Manage contracts and invoices',
    portal_employees_desc:'HR resources and company tools',
    portal_applicants_desc:'Track your application status',
    footer_tagline:'Building communities and creating lasting value through vertical integration and operational excellence.',
    footer_company:'Company',footer_properties:'Properties',footer_legal:'Legal',
    footer_privacy:'Privacy Policy',footer_terms:'Terms of Service',
    footer_rights:'© 2024 Pendleton Companies. All rights reserved.',
    metric_properties:'Properties',metric_states:'States',metric_units:'Units',metric_aum:'AUM',
  },
  es: {
    nav_about:'Nosotros',nav_portfolio:'Portafolio',nav_careers:'Carreras',nav_portal:'Portal',
    nav_mission:'Misión',nav_story:'Historia',nav_advantage:'Ventaja',nav_companies:'Empresas',nav_leadership:'Liderazgo',
    nav_benefits:'Beneficios',nav_advancement:'Avance',nav_openposiciones:'Posiciones Abiertas',
    learn_more:'Saber Más',view_all:'Ver Todo',apply_now:'Aplicar Ahora',read_more:'Leer Más',close:'Cerrar',
    home_hero_title:'Pendleton Companies',home_hero_sub:'Construyendo Excelencia. Entregando Valor.',
    home_cta_portfolio:'Ver Portafolio',home_cta_about:'Nuestra Historia',
    hero_subtitle:'BIENES RAÍCES • CONSTRUIDOS DIFERENTE',
    sub_development:'Desarrollo',sub_portfolio_overview:'Resumen',sub_portfolio_realestate:'Bienes Raíces',
    stat_aum:'Activos Bajo Gestión',stat_states:'Estados',stat_units:'Unidades Administradas',stat_years:'Años de Excelencia',
    re_tab_overview:'Resumen',re_tab_holdings:'Propiedades',re_tab_pm:'Gestión de Propiedades',re_tab_construction:'Construcción',re_tab_lending:'Préstamos',
    mission_quote:'Demostrar los mejores productos y los mejores precios requiere un compromiso incesante con el valor y la excelencia operativa.',
    mission_label:'Nuestra Misión',advantage_title:'Ventaja de Integración Vertical',
    portfolio_title:'Nuestro Portafolio',portfolio_sub:'Un historial de excelencia en todos los mercados.',
    filter_location:'Ubicación',filter_product:'Tipo de Producto',filter_project:'Tipo de Proyecto',filter_all:'Todos',
    careers_great_individuals:'Grandes Individuos',careers_great_teams:'Forman Grandes Equipos',
    careers_commitment:'Comprometidos a cuidar nuestro Mayor Recurso: Nuestra Gente',
    portal_title:'Bienvenido a los Portales Pendleton',portal_subtitle:'Seleccione su portal para iniciar sesión',
    portal_investors:'Inversores',portal_vendors:'Proveedores',portal_employees:'Empleados',portal_applicants:'Solicitantes',
    portal_investors_desc:'Acceder a paneles e informes de inversión',portal_vendors_desc:'Gestionar contratos y facturas',
    portal_employees_desc:'Recursos de RRHH y herramientas',portal_applicants_desc:'Seguir el estado de su solicitud',
    footer_tagline:'Construyendo comunidades y creando valor duradero a través de la integración vertical.',
    footer_rights:'© 2024 Pendleton Companies. Todos los derechos reservados.',
    metric_properties:'Propiedades',metric_states:'Estados',metric_units:'Unidades',metric_aum:'Activos',
  },
  fr: {
    nav_about:'À Propos',nav_portfolio:'Portefeuille',nav_careers:'Carrières',nav_portal:'Portail',
    nav_mission:'Mission',nav_story:'Histoire',nav_advantage:'Avantage',nav_companies:'Sociétés',nav_leadership:'Direction',
    nav_benefits:'Avantages',nav_advancement:'Avancement',nav_openpositions:'Postes Ouverts',
    learn_more:'En Savoir Plus',view_all:'Voir Tout',apply_now:'Postuler',read_more:'Lire Plus',close:'Fermer',
    home_hero_title:'Pendleton Companies',home_hero_sub:"Bâtir l'Excellence. Créer de la Valeur.",
    home_cta_portfolio:'Voir le Portefeuille',home_cta_about:'Notre Histoire',
    hero_subtitle:'IMMOBILIER • CONSTRUIT DIFFÉREMMENT',
    sub_development:'Développement',sub_portfolio_overview:'Aperçu',sub_portfolio_realestate:'Immobilier',
    stat_aum:'Actifs Sous Gestion',stat_states:'États',stat_units:'Unités Gérées',stat_years:"Années d'Excellence",
    re_tab_overview:'Aperçu',re_tab_holdings:'Propriétés',re_tab_pm:'Gestion Immobilière',re_tab_construction:'Construction',re_tab_lending:'Prêts',
    mission_quote:"Offrir les meilleurs produits et les meilleurs prix nécessite un engagement incessant envers la valeur et l'excellence opérationnelle.",
    mission_label:'Notre Mission',advantage_title:"Avantage d'Intégration Verticale",
    portfolio_title:'Notre Portefeuille',portfolio_sub:'Un bilan d\'excellence sur tous les marchés.',
    filter_location:'Lieu',filter_product:'Type de Produit',filter_project:'Type de Projet',filter_all:'Tous',
    careers_great_individuals:'Grands Individus',careers_great_teams:'Forment de Grandes Équipes',
    careers_commitment:'Engagés à prendre soin de notre Plus Grande Ressource: Notre Personnel',
    portal_title:'Bienvenue sur les Portails Pendleton',portal_subtitle:'Sélectionnez votre portail pour vous connecter',
    portal_investors:'Investisseurs',portal_vendors:'Fournisseurs',portal_employees:'Employés',portal_applicants:'Candidats',
    portal_investors_desc:'Accédez aux tableaux de bord et aux rapports d\'investissement',
    portal_vendors_desc:'Gérer les contrats et les factures',
    portal_employees_desc:'Ressources RH et outils d\'entreprise',
    portal_applicants_desc:'Suivre l\'état de votre candidature',
    footer_tagline:'Construire des communautés et créer une valeur durable par l\'intégration verticale et l\'excellence opérationnelle.',
    footer_rights:'© 2024 Pendleton Companies. Tous droits réservés.',
    metric_properties:'Propriétés',metric_states:'États',metric_units:'Unités',metric_aum:'Actifs',
  },
  de: {
    nav_about:'Über Uns',nav_portfolio:'Portfolio',nav_careers:'Karriere',nav_portal:'Portal',
    nav_mission:'Mission',nav_story:'Geschichte',nav_advantage:'Vorteil',nav_companies:'Unternehmen',nav_leadership:'Führung',
    nav_benefits:'Leistungen',nav_advancement:'Aufstieg',nav_openpositions:'Offene Stellen',
    learn_more:'Mehr Erfahren',view_all:'Alle Anzeigen',apply_now:'Jetzt Bewerben',read_more:'Mehr lesen',close:'Schließen',
    home_hero_title:'Pendleton Companies',home_hero_sub:'Exzellenz aufbauen. Wert liefern.',
    home_cta_portfolio:'Portfolio Ansehen',home_cta_about:'Unsere Geschichte',
    hero_subtitle:'IMMOBILIEN • ANDERS GEBAUT',
    sub_development:'Entwicklung',sub_portfolio_overview:'Überblick',sub_portfolio_realestate:'Immobilien',
    stat_aum:'Verwaltete Vermögenswerte',stat_states:'Bundesstaaten',stat_units:'Verwaltete Einheiten',stat_years:'Jahre Exzellenz',
    re_tab_overview:'Überblick',re_tab_holdings:'Bestände',re_tab_pm:'Hausverwaltung',re_tab_construction:'Bau',re_tab_lending:'Kreditvergabe',
    mission_quote:'Die besten Produkte und die besten Preise zu bieten erfordert ein unablässiges Engagement für Wert und operative Exzellenz.',
    mission_label:'Unsere Mission',
    advantage_title:'Vorteil der vertikalen Integration',
    portfolio_title:'Unser Portfolio',portfolio_sub:'Eine Erfolgsbilanz der Exzellenz auf allen Märkten.',
    filter_location:'Standort',filter_product:'Produkttyp',filter_project:'Projekttyp',filter_all:'Alle',
    careers_great_individuals:'Großartige Personen',careers_great_teams:'Bilden großartige Teams',
    careers_commitment:'Verpflichtet, unsere wertvollste Ressource zu betreuen: Unsere Mitarbeiter',
    portal_title:'Willkommen bei den Pendleton-Portalen',portal_subtitle:'Wählen Sie Ihr Portal zum Anmelden',
    portal_investors:'Investoren',portal_vendors:'Lieferanten',portal_employees:'Mitarbeiter',portal_applicants:'Bewerber',
    portal_investors_desc:'Zugriff auf Investitions-Dashboards und Berichte',
    portal_vendors_desc:'Verwalten Sie Verträge und Rechnungen',
    portal_employees_desc:'HR-Ressourcen und Unternehmenstools',
    portal_applicants_desc:'Verfolgen Sie den Status Ihrer Bewerbung',
    footer_tagline:'Bau von Gemeinschaften und Schaffung von dauerhaftem Wert durch vertikale Integration und operative Exzellenz.',
    footer_rights:'© 2024 Pendleton Companies. Alle Rechte vorbehalten.',
    metric_properties:'Objekte',metric_states:'Bundesstaaten',metric_units:'Einheiten',metric_aum:'Vermögen',
  },
  zh: {
    nav_about:'关于我们',nav_portfolio:'投资组合',nav_careers:'职业',nav_portal:'门户',
    nav_mission:'使命',nav_story:'故事',nav_advantage:'优势',nav_companies:'公司',nav_leadership:'领导团队',
    nav_benefits:'福利',nav_advancement:'晋升',nav_openpositions:'招聘职位',
    learn_more:'了解更多',view_all:'查看全部',apply_now:'立即申请',read_more:'了解更多',close:'关闭',
    home_hero_title:'彭德尔顿公司',home_hero_sub:'构建卓越。创造价值。',
    home_cta_portfolio:'查看投资组合',home_cta_about:'我们的故事',
    hero_subtitle:'房地产 • 独特构建',
    sub_development:'发展',sub_portfolio_overview:'概览',sub_portfolio_realestate:'房地产',
    stat_aum:'资产管理规模',stat_states:'州',stat_units:'管理单位',stat_years:'卓越年数',
    re_tab_overview:'概览',re_tab_holdings:'持有物业',re_tab_pm:'物业管理',re_tab_construction:'建设',re_tab_lending:'贷款',
    mission_quote:'提供最佳产品和最优价格需要对价值和运营卓越的不懈承诺。',
    mission_label:'我们的使命',
    advantage_title:'垂直整合优势',
    portfolio_title:'我们的投资组合',portfolio_sub:'在各个市场中的卓越记录。',
    filter_location:'位置',filter_product:'产品类型',filter_project:'项目类型',filter_all:'全部',
    careers_great_individuals:'伟大的个人',careers_great_teams:'构成伟大的团队',
    careers_commitment:'致力于照顾我们最伟大的资源：我们的员工',
    portal_title:'欢迎来到彭德尔顿门户',portal_subtitle:'选择您的门户进行登录',
    portal_investors:'投资者',portal_vendors:'供应商',portal_employees:'员工',portal_applicants:'申请人',
    portal_investors_desc:'访问投资仪表板和报告',
    portal_vendors_desc:'管理合同和发票',
    portal_employees_desc:'人力资源和公司工具',
    portal_applicants_desc:'跟踪您的申请状态',
    footer_tagline:'通过垂直整合和运营卓越，建设社区并创造持久价值。',
    footer_rights:'© 2024 彭德尔顿公司。保留所有权利。',
    metric_properties:'物业',metric_states:'州',metric_units:'单位',metric_aum:'资产管理规模',
  }
};

class I18n {
  constructor() {
    this.current = this.detectLanguage();
  }
  detectLanguage() {
    const urlParams = new URLSearchParams(window.location.search);
    const urlLang = urlParams.get('lang');
    if (urlLang && TRANSLATIONS[urlLang]) return urlLang;
    const stored = localStorage.getItem('pc_lang');
    if (stored && TRANSLATIONS[stored]) return stored;
    const browserLang = (navigator.language || 'en').split('-')[0].toLowerCase();
    if (TRANSLATIONS[browserLang]) return browserLang;
    return 'en';
  }
  setLanguage(lang) {
    if (!TRANSLATIONS[lang]) return;
    this.current = lang;
    localStorage.setItem('pc_lang', lang);
    this.apply();
    const url = new URL(window.location);
    url.searchParams.set('lang', lang);
    window.history.replaceState({}, '', url);
  }
  t(key) {
    return (TRANSLATIONS[this.current] && TRANSLATIONS[this.current][key]) || TRANSLATIONS['en'][key] || key;
  }
  apply() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      const val = this.t(key);
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') el.placeholder = val;
      else el.textContent = val;
    });
    const langSelect = document.querySelector('.lang-select');
    if (langSelect) langSelect.value = this.current;
    document.documentElement.lang = this.current;
  }
}
window.i18n = new I18n();
